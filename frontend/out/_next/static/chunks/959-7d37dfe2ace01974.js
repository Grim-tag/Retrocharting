"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[959],{82499:(e,t,s)=>{s.r(t),s.d(t,{default:()=>n});var a=s(12115),r=s(32597),l=s(76046);function n(e){let{en:t,fr:s}=e,{setAlternates:n}=(0,r.I)(),o=(0,l.usePathname)();return(0,a.useEffect)(()=>(n({en:t,fr:s}),()=>{n({})}),[o,t,s,n]),null}},99419:(e,t,s)=>{s.r(t),s.d(t,{default:()=>c});var a=s(95155),r=s(12115),l=s(48173),n=s.n(l),o=s(85534),i=s(21567);function c(e){let{productId:t,lang:s}=e,[l,c]=(0,r.useState)([]);return((0,r.useEffect)(()=>{(async function(){c(await (0,o.Sz)(t))})()},[t]),0===l.length)?null:(0,a.jsxs)("div",{className:"bg-[#1f2533] border border-[#2a3142] rounded p-4 mt-4 text-center",children:[(0,a.jsx)("h3",{className:"text-white font-bold mb-3 text-sm uppercase tracking-wide",children:"Also available on"}),(0,a.jsx)("div",{className:"flex flex-wrap justify-center gap-2",children:l.map(e=>(0,a.jsx)(n(),{href:(0,i.sq)(e,s),className:"bg-[#2a3142] hover:bg-[#ff6600] text-gray-300 hover:text-white text-xs font-medium py-1.5 px-3 rounded transition-colors",children:e.console_name},e.id))})]})}},8630:(e,t,s)=>{s.d(t,{default:()=>n});var a=s(95155);s(12115);var r=s(31558),l=s(11977);function n(e){let{variants:t}=e,{currency:s}=(0,r.H)(),n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";if(null==e)return"-";let a=(0,l.Q3)(e,t);return(0,l.$g)(a,s)};return(0,a.jsxs)("div",{className:"mb-8 bg-[#1f2533] border border-[#2a3142] rounded p-4",children:[(0,a.jsxs)("h3",{className:"text-white text-lg font-bold mb-4 flex items-center gap-2",children:[(0,a.jsx)("span",{children:"\uD83C\uDF0D"})," Global Market Prices"]}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-sm text-left text-gray-300",children:[(0,a.jsx)("thead",{className:"text-xs text-gray-400 uppercase bg-[#0f121e]",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-3",children:"Region"}),(0,a.jsx)("th",{className:"px-4 py-3",children:"Loose"}),(0,a.jsx)("th",{className:"px-4 py-3",children:"CIB"}),(0,a.jsx)("th",{className:"px-4 py-3",children:"New"})]})}),(0,a.jsx)("tbody",{children:t.map(e=>(0,a.jsxs)("tr",{className:"border-b border-[#2a3142] hover:bg-[#2a3142]/50",children:[(0,a.jsxs)("td",{className:"px-4 py-3 font-medium text-white flex items-center gap-2",children:[e.region.includes("PAL")?"\uD83C\uDDEA\uD83C\uDDFA PAL":e.region.includes("JP")?"\uD83C\uDDEF\uD83C\uDDF5 JP":"Standard"===e.region||e.region.includes("NTSC")?"\uD83C\uDDFA\uD83C\uDDF8 NTSC":e.region,(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:["(",e.product_name,")"]})]}),(0,a.jsx)("td",{className:"px-4 py-3",children:n(e.prices.loose,e.prices.currency)}),(0,a.jsx)("td",{className:"px-4 py-3",children:n(e.prices.cib,e.prices.currency)}),(0,a.jsx)("td",{className:"px-4 py-3",children:n(e.prices.new,e.prices.currency)})]},e.id))})]})})]})}},86724:(e,t,s)=>{s.r(t),s.d(t,{default:()=>c});var a=s(95155),r=s(12115),l=s(85534),n=s(11977),o=s(31558),i=s(5565);function c(e){var t,s,c;let{productId:d,dict:x,genre:m}=e,[u,p]=(0,r.useState)([]),[h,g]=(0,r.useState)(!0),[f,b]=(0,r.useState)("games"),{currency:y}=(0,o.H)(),[j,N]=(0,r.useState)(!1),v=m&&["Systems","Console","Consoles"].includes(m)?(null===(t=x.product.listings.tabs)||void 0===t?void 0:t.consoles)||"Consoles":(null===(s=x.product.listings.tabs)||void 0===s?void 0:s.games)||"Games",w=(null===(c=x.product.listings.tabs)||void 0===c?void 0:c.extras)||"Extras";(0,r.useEffect)(()=>{let e;let t=0;async function s(){g(!0);try{let{data:a,isStale:r,status:n}=await (0,l.UQ)(d);202===n?t<10?(t++,e=setTimeout(s,3e3)):(g(!1),p([])):(p(a),g(!1),r?(N(!0),e=setTimeout(async()=>{let e=await (0,l.UQ)(d);p(e.data),N(!1)},5e3)):N(!1))}catch(e){g(!1)}}return s(),()=>{e&&clearTimeout(e)}},[d]);let S=u.filter(e=>!["BOX_ONLY","MANUAL_ONLY","PARTS"].includes(e.condition)).sort((e,t)=>(0,n.Q3)(e.price,e.currency)-(0,n.Q3)(t.price,t.currency)),_=u.filter(e=>["BOX_ONLY","MANUAL_ONLY"].includes(e.condition)).sort((e,t)=>(0,n.Q3)(e.price,e.currency)-(0,n.Q3)(t.price,t.currency)),A="games"===f?S:_;return h?(0,a.jsx)("div",{className:"text-gray-400 text-center py-4",children:x.product.listings.table.loading}):0===u.length?(0,a.jsx)("div",{className:"text-gray-400 text-center py-4",children:x.product.listings.table.empty}):(0,a.jsxs)("div",{className:"bg-[#1f2533] border border-[#2a3142] rounded overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex border-b border-[#2a3142]",children:[(0,a.jsxs)("button",{onClick:()=>b("games"),className:"flex-1 py-3 text-sm font-bold uppercase tracking-wide transition-colors ".concat("games"===f?"bg-[#2a3142] text-white border-b-2 border-[#ff6600]":"text-gray-500 hover:text-gray-300 hover:bg-[#252b3b]"),children:[v," (",S.length,")"]}),(0,a.jsxs)("button",{onClick:()=>b("extras"),className:"flex-1 py-3 text-sm font-bold uppercase tracking-wide transition-colors ".concat("extras"===f?"bg-[#2a3142] text-white border-b-2 border-[#ff6600]":"text-gray-500 hover:text-gray-300 hover:bg-[#252b3b]"),children:[w," (",_.length,")"]})]}),j&&(0,a.jsx)("div",{className:"bg-[#151922] text-xs text-blue-400 px-4 py-1 text-center animate-pulse border-b border-[#2a3142]",children:"Updating offers..."}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-left text-sm text-gray-400",children:[(0,a.jsx)("thead",{className:"bg-[#151922] text-xs uppercase font-medium",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-3",children:x.product.listings.table.image}),(0,a.jsx)("th",{className:"px-4 py-3",children:x.product.listings.table.title}),(0,a.jsx)("th",{className:"px-4 py-3",children:x.product.listings.table.seller}),(0,a.jsx)("th",{className:"px-4 py-3",children:x.product.listings.table.condition}),(0,a.jsx)("th",{className:"px-4 py-3 text-right",children:x.product.listings.table.price}),(0,a.jsx)("th",{className:"px-4 py-3 text-center",children:x.product.listings.table.action||""})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-[#2a3142]",children:0===A.length?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:6,className:"p-8 text-center text-gray-500",children:"No listings in this category."})}):A.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-[#2a3142] transition-colors",children:[(0,a.jsx)("td",{className:"px-4 py-3",children:e.image_url?(0,a.jsx)("div",{className:"relative w-12 h-12 rounded overflow-hidden bg-[#0f121e]",children:(0,a.jsx)(i.default,{src:e.image_url,alt:e.title,fill:!0,className:"object-cover",sizes:"48px"})}):(0,a.jsx)("div",{className:"w-12 h-12 bg-[#0f121e] rounded flex items-center justify-center text-xs",children:x.product.listings.table.no_pic})}),(0,a.jsx)("td",{className:"px-4 py-3 text-white font-medium max-w-xs",children:(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)("span",{className:"truncate",title:e.title,children:e.title}),e.is_good_deal&&(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsxs)("span",{className:"bg-green-500/20 text-green-400 text-[10px] font-bold px-1.5 py-0.5 rounded border border-green-500/50 uppercase tracking-wide flex items-center gap-1",children:["\uD83D\uDD25 ",x.product.listings.table.good_deal]})})]})}),(0,a.jsx)("td",{className:"px-4 py-3 text-gray-300",children:(0,a.jsxs)("div",{className:"flex flex-col",children:["Amazon"===e.source?(0,a.jsxs)("span",{className:"text-[#FF9900] font-bold flex items-center gap-1",children:[(0,a.jsx)("span",{className:"text-white bg-[#FF9900] px-1 rounded text-[10px]",children:"a"}),"Amazon"]}):"eBay"===e.source?(0,a.jsx)("span",{className:"text-[#e53238] font-bold",children:"eBay"}):e.source,e.seller_name&&e.seller_name!==e.source&&(0,a.jsx)("span",{className:"text-[10px] text-gray-500 truncate max-w-[100px]",children:e.seller_name})]})}),(0,a.jsx)("td",{className:"px-4 py-3",children:"MANUAL_ONLY"===e.condition?(0,a.jsx)("span",{className:"text-yellow-500",children:x.product.listings.table.manual_only}):"BOX_ONLY"===e.condition?(0,a.jsx)("span",{className:"text-orange-500",children:x.product.listings.table.box_only}):e.condition||"Used"}),(0,a.jsx)("td",{className:"px-4 py-3 text-right text-white font-bold",children:(0,n.$g)(e.price,y)}),(0,a.jsx)("td",{className:"px-4 py-3 text-center",children:(0,a.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"bg-[#007bff] hover:bg-[#0056b3] text-white text-xs font-bold py-1.5 px-3 rounded inline-block transition-colors",children:x.product.listings.table.buy})})]},e.id))})]})})]})}},55384:(e,t,s)=>{s.r(t),s.d(t,{default:()=>o});var a=s(95155);s(12115);var r=s(31558),l=s(11977);let n=["Playstation 4","Playstation 5","Xbox One","Xbox Series X","Nintendo Switch","Nintendo Switch 2","JP Playstation 4","JP Playstation 5","JP Xbox One","JP Xbox Series X","JP Nintendo Switch","JP Nintendo Switch 2","PAL Playstation 4","PAL Playstation 5","PAL Xbox One","PAL Xbox Series X","PAL Nintendo Switch","PAL Nintendo Switch 2","Asian English Playstation 4","Asian English Playstation 5","Asian English Switch","Asian English Switch 2"];function o(e){var t;let{product:s,dict:o,lang:i}=e,{currency:c}=(0,r.H)(),d=(0,l.Qn)(c),x=e=>{if(!e)return"N/A";let t=(0,l.Tt)(e,c);return null===t?"N/A":"".concat(d).concat(t.toFixed(2))};if(!s||!(null==o?void 0:null===(t=o.product)||void 0===t?void 0:t.seo))return null;let m=n.some(e=>{var t;return null===(t=s.console_name)||void 0===t?void 0:t.includes(e)}),u=s.genre&&["Systems","Console","Consoles"].includes(s.genre),p=m?"modern":"retro";u&&(p=m?"console_modern":"console_retro");let h=o.product.seo[p];if(!h)return null;let g=s.loose_price||0,f=s.cib_price||1.5*g,b=s.new_price||2*f,y="",j="",N="",v="",w="",S=0;if("retro"===p){y=f/(g||1)>2.5?h.gap_high||"":h.gap_low||"";let e=s.id%3;j=0===e?h.trend_stable||"":1===e?h.trend_up||"":h.trend_down||""}else S=b>0?Math.round((b-g)/b*100):0,h.deal_good&&(N=S>20?h.deal_good.replace("{{save_percent}}",S.toString()):h.deal_bad||""),v=1==s.id%3?h.pop_high||"":h.pop_neutral||"",w=S>20?h.action_buy||"":h.action_wait||"";let _=s.release_date?new Date(s.release_date).getFullYear().toString():s.first_release_date?new Date(s.first_release_date).getFullYear().toString():"????",A="????"!==_?"fr"===i?" en ".concat(_):" in ".concat(_):"",C=s.console_name?s.console_name.replace(/\(?(PAL|NTSC-U|NTSC-J|NTSC|JP|Japan|USA|EUR)\)?/gi,"").trim():"Console",k=e=>e.replace(/{{name}}/g,s.product_name).replace(/{{console}}/g,C).replace(/{{platform}}/g,C).replace(/{{date_part}}/g,A).replace(/{{loose_price}}/g,x(g)).replace(/{{cib_price}}/g,x(f)).replace(/{{new_price}}/g,x(b)).replace(/{{gap_text}}/g,y).replace(/{{trend_text}}/g,j).replace(/{{deal_text}}/g,N).replace(/{{popularity_text}}/g,v).replace(/{{action_text}}/g,w).replace(/{{save_percent}}/g,S.toString());return(0,a.jsx)("section",{className:"bg-[#1f2533] border-y border-[#2a3142] py-8 my-8",children:(0,a.jsxs)("div",{className:"max-w-[1400px] mx-auto px-4 flex flex-col gap-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-xl font-bold text-white mb-3 flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-[#ff6600]",children:"#"}),k(h.h1)]}),(0,a.jsx)("p",{className:"text-gray-300 leading-relaxed text-sm text-justify",children:k(h.value_analysis)})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-xl font-bold text-white mb-3 flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-[#007bff]",children:"?"}),k(h.h2)]}),(0,a.jsx)("p",{className:"text-gray-300 leading-relaxed text-sm text-justify",children:k(h.context_analysis)})]})]})})}},58424:(e,t,s)=>{s.r(t),s.d(t,{default:()=>o});var a=s(95155);s(12115);var r=s(72568),l=s(11977),n=s(31558);function o(e){let{label:t,price:s,color:o="text-white",definition:i,bestValue:c}=e,d=null!=s&&s>0,{currency:x}=(0,n.H)(),m=d?(0,l.$g)(s,x):"--",u=m.length>8,p=m.length>10,h="text-xl sm:text-3xl";return p?h="text-lg sm:text-xl":u&&(h="text-lg sm:text-2xl"),(0,a.jsxs)("div",{className:"bg-[#1f2533] border ".concat(c?"border-[#007bff] shadow-[0_0_15px_rgba(0,123,255,0.2)]":"border-[#2a3142]"," p-3 sm:p-6 rounded text-center relative group transition-transform hover:-translate-y-1 h-full flex flex-col justify-center overflow-hidden"),children:[c&&(0,a.jsx)("div",{className:"absolute top-0 right-0 bg-[#007bff] text-white text-[9px] sm:text-[10px] font-bold px-1.5 py-0.5 sm:px-2 sm:py-1 uppercase tracking-wider rounded-bl",children:"Best"}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-1.5 mb-1 sm:gap-2 sm:mb-2",children:[(0,a.jsx)("div",{className:"text-gray-400 text-xs sm:text-sm uppercase tracking-wider font-medium truncate",children:t}),(0,a.jsxs)("div",{className:"relative group/tooltip cursor-help hidden sm:block",children:[(0,a.jsx)(r.A,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-600 hover:text-gray-400"}),(0,a.jsxs)("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-48 bg-black/90 text-white text-xs p-2 rounded shadow-xl opacity-0 invisible group-hover/tooltip:opacity-100 group-hover/tooltip:visible transition-all z-50 pointer-events-none",children:[i,(0,a.jsx)("div",{className:"absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent border-t-black/90"})]})]})]}),(0,a.jsx)("div",{className:"font-bold ".concat(d?o:"text-gray-600"," ").concat(h," transition-all duration-200"),children:d?m:(0,a.jsx)("span",{className:"flex flex-col items-center",children:(0,a.jsx)("span",{className:"text-base sm:text-lg",children:"--"})})}),d&&(0,a.jsx)("div",{className:"text-[9px] sm:text-[10px] text-gray-500 mt-1 sm:mt-2 font-mono hidden sm:block",children:"Based on recent sales"})]})}},57606:(e,t,s)=>{s.r(t),s.d(t,{default:()=>p});var a=s(95155),r=s(85572),l=s(94973),n=s(15255),o=s(12800),i=s(66963),c=s(71214),d=s(85608),x=s(11458),m=s(31558),u=s(11977);function p(e){let{history:t,className:s,dict:p}=e,{currency:h}=(0,m.H)(),g=(0,u.Qn)(h);if(!t||0===t.length){var f,b;return(0,a.jsx)("div",{className:"bg-[#1f2533] border border-[#2a3142] rounded flex items-center justify-center text-gray-500 ".concat(s||"h-[300px]"),children:(null==p?void 0:null===(b=p.product)||void 0===b?void 0:null===(f=b.market)||void 0===f?void 0:f.no_history)||"No price history available."})}let y={},j=new Set;t.forEach(e=>{let t=e.date;y[t]||(y[t]={date:t}),y[t][e.condition]=e.price,j.add(e.condition)});let N=Object.values(y).sort((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime()),v={loose:"#9ca3af",cib:"#007bff",new:"#00ff00",graded:"#a855f7",box_only:"#f59e0b",manual_only:"#ef4444"};return(0,a.jsx)("div",{className:"w-full bg-[#1f2533] border border-[#2a3142] p-4 rounded min-h-[300px] ".concat(null!=s?s:"h-[400px]"),children:(0,a.jsx)(r.u,{width:"100%",height:"100%",minWidth:0,minHeight:0,children:(0,a.jsxs)(l.b,{data:N,children:[(0,a.jsx)(n.d,{strokeDasharray:"3 3",stroke:"#2a3142"}),(0,a.jsx)(o.W,{dataKey:"date",stroke:"#9ca3af",tick:{fill:"#9ca3af"},tickFormatter:e=>new Date(e).toLocaleDateString()}),(0,a.jsx)(i.h,{stroke:"#9ca3af",tick:{fill:"#9ca3af"},tickFormatter:e=>"".concat(g).concat(e)}),(0,a.jsx)(c.m,{contentStyle:{backgroundColor:"#1f2533",borderColor:"#2a3142",color:"#fff"},itemStyle:{color:"#fff"},labelStyle:{color:"#9ca3af"}}),(0,a.jsx)(d.s,{}),Array.from(j).map(e=>(0,a.jsx)(x.N1,{type:"monotone",dataKey:e,stroke:v[e]||"#fff",strokeWidth:2,dot:!1,activeDot:{r:6},connectNulls:!0},e))]})})})}},63288:(e,t,s)=>{s.r(t),s.d(t,{default:()=>x});var a=s(95155),r=s(12115),l=s(68435),n=s(85534),o=s(11977),i=s(31558);function c(e){let{product:t,lang:s}=e,{isAuthenticated:c,token:d,refreshUser:x}=(0,l.A)(),[m,u]=(0,r.useState)(!1),[p,h]=(0,r.useState)("LOOSE"),[g,f]=(0,r.useState)(""),[b,y]=(0,r.useState)(""),[j,N]=(0,r.useState)(!1),[v,w]=(0,r.useState)(!1),{currency:S}=(0,i.H)(),_=(0,o.Qn)(S);if(!c)return(0,a.jsx)("button",{onClick:()=>alert("Please log in with Google first (Top Right button)"),className:"w-full bg-gray-700 hover:bg-gray-600 text-white font-bold py-3 px-4 rounded-lg transition-colors flex items-center justify-center gap-2",children:(0,a.jsx)("span",{children:"+ Add to Collection"})});let A=async()=>{if(d){N(!0);try{let e;if(b){let t=parseFloat(b.replace(",","."));isNaN(t)||(e=(0,o.Q3)(t,S))}await (0,n.nL)(d,t.id,p,g,e),await x(),w(!0),setTimeout(()=>{w(!1),u(!1),f(""),y("")},1e3)}catch(e){console.error(e),alert("Failed to add: ".concat(e.message))}finally{N(!1)}}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>u(!0),className:"w-full bg-[#ff6600] hover:bg-[#e65c00] text-white font-bold py-3 px-4 rounded-lg transition-colors flex items-center justify-center gap-2 shadow-lg",children:(0,a.jsx)("span",{children:"+ Add to Collection"})}),m&&(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:(0,a.jsxs)("div",{className:"bg-[#1f2533] border border-[#3a4152] rounded-xl shadow-2xl max-w-sm w-full p-6 text-white relative animate-fade-in-up",children:[(0,a.jsx)("button",{onClick:()=>u(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:"✕"}),(0,a.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Add to Collection"}),(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6 bg-[#2a3142] p-3 rounded",children:[t.image_url&&(0,a.jsx)("img",{src:t.image_url,className:"w-12 h-12 rounded object-cover"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-bold text-sm",children:t.product_name}),(0,a.jsx)("div",{className:"text-xs text-gray-400",children:t.console_name})]})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-xs uppercase text-gray-400 mb-2",children:"Condition"}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-2",children:["LOOSE","CIB","NEW","GRADED"].map(e=>(0,a.jsx)("button",{onClick:()=>h(e),className:"py-2 text-sm rounded border ".concat(p===e?"bg-[#ff6600] border-[#ff6600] text-white":"bg-[#2a3142] border-[#3a4152] text-gray-300 hover:border-gray-500"),children:e},e))})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("label",{className:"block text-xs uppercase text-gray-400 mb-2",children:["Price Paid (",_,")"]}),(0,a.jsx)("input",{type:"number",step:"0.01",value:b,onChange:e=>y(e.target.value),className:"w-full bg-[#0f121e] border border-[#3a4152] rounded p-2 text-sm text-white focus:border-[#ff6600] outline-none",placeholder:"e.g. 15.00"}),"USD"!==S&&b&&(0,a.jsxs)("p",{className:"text-[10px] text-gray-500 mt-1 text-right",children:["Saved as ~$",(0,o.Q3)(parseFloat(b),S).toFixed(2)," USD"]})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{className:"block text-xs uppercase text-gray-400 mb-2",children:"Notes"}),(0,a.jsx)("textarea",{value:g,onChange:e=>f(e.target.value),className:"w-full bg-[#0f121e] border border-[#3a4152] rounded p-2 text-sm text-white focus:border-[#ff6600] outline-none",rows:2,placeholder:"Details..."})]}),(0,a.jsx)("button",{onClick:A,disabled:j||v,className:"w-full font-bold py-3 rounded transition-colors ".concat(v?"bg-green-600":"bg-[#ff6600] hover:bg-[#e65c00]"),children:j?"Saving...":v?"Saved!":"Confirm Add"})]})})]})}function d(e){let{product:t,lang:s,label:o}=e,{isAuthenticated:i,token:c}=(0,l.A)(),[d,x]=(0,r.useState)(!1),[m,u]=(0,r.useState)(!1),p=async()=>{if(!i){alert("Please log in to use the wishlist.");return}if(c){x(!0);try{await (0,n.nL)(c,t.id,"WISHLIST","Added via Wishlist Button"),u(!0),setTimeout(()=>u(!1),2e3)}catch(e){alert(e.message||"Failed to add to wishlist.")}finally{x(!1)}}};return(0,a.jsx)("button",{onClick:p,disabled:d||m,className:"flex-1 font-bold py-3 px-6 rounded transition-colors uppercase tracking-wide border border-[#353e54] ".concat(m?"bg-green-600 text-white border-green-600":"bg-[#2a3142] hover:bg-[#353e54] text-white"),children:d?"Adding...":m?"Added!":o})}function x(e){let{product:t,lang:s,dict:r}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex flex-col gap-3 mt-6",children:[(0,a.jsx)(c,{product:t,lang:s}),(0,a.jsx)(d,{product:t,lang:s,label:r.product.actions.add_wishlist})]})})}},42599:(e,t,s)=>{s.r(t),s.d(t,{default:()=>m});var a=s(95155),r=s(12115),l=s(68435),n=s(93681);async function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;try{return(await n.u.get("/comments/product/".concat(e),{params:{limit:t,offset:s}})).data}catch(e){return console.error(e),{total:0,comments:[]}}}async function i(e,t,s,a){return(await n.u.post("/comments/",{product_id:e,content:t,parent_id:a},s?{headers:{Authorization:"Bearer ".concat(s)}}:{})).data}var c=s(90076),d=s(21233),x=s(41593);function m(e){var t,s;let{productId:n,lang:m}=e,{user:u,login:p,refreshUser:h}=(0,l.A)(),[g,f]=(0,r.useState)([]),[b,y]=(0,r.useState)(0),[j,N]=(0,r.useState)(!1),[v,w]=(0,r.useState)(0),[S,_]=(0,r.useState)(""),[A,C]=(0,r.useState)(!1),[k,P]=(0,r.useState)("");(0,r.useEffect)(()=>{L(!0)},[n]);let L=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!j){N(!0);try{let t=await o(n,5,e?0:v);e?(f(t.comments),w(5)):(f(e=>[...e,...t.comments]),w(e=>e+5)),y(t.total)}catch(e){console.error(e)}finally{N(!1)}}},E=async e=>{if(e.preventDefault(),P(""),S.trim()){if(/(https?:\/\/|www\.|[a-zA-Z0-9-]+\.(com|net|org|fr|de|io|co))/i.test(S)){P("fr"===m?"Les liens ne sont pas autoris\xe9s.":"Links are not allowed.");return}C(!0);try{let e=localStorage.getItem("token")||"",t=await i(n,S,e);f(e=>[t,...e]),y(e=>e+1),_(""),h()}catch(e){P(e.message||"Failed to post comment")}finally{C(!1)}}},D="fr"===m?d.fr:x.c,O="fr"===m?{title:"Commentaires",placeholder:"Ajouter un commentaire...",submit:"Publier",login:"Connectez-vous pour commenter",loadMore:"Charger plus de commentaires",empty:"Aucun commentaire pour le moment. Soyez le premier !",submitting:"Envoi...",linksForbidden:"Les liens sont interdits."}:{title:"Comments",placeholder:"Add a comment...",submit:"Post",login:"Login to post a comment",loadMore:"Load more comments",empty:"No comments yet. Be the first!",submitting:"Posting...",linksForbidden:"Links are not allowed."};return(0,a.jsxs)("div",{className:"bg-[#1f2533] border border-[#2a3142] rounded-lg p-6 mt-8",children:[(0,a.jsxs)("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[O.title," ",(0,a.jsxs)("span",{className:"text-gray-500 text-sm font-normal",children:["(",b,")"]})]}),u?(0,a.jsx)("form",{onSubmit:E,className:"mb-8",children:(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)("img",{src:null!==(t=u.avatar_url)&&void 0!==t?t:"https://www.gravatar.com/avatar?d=mp",alt:null!==(s=u.username)&&void 0!==s?s:"User",className:"w-10 h-10 rounded-full border border-[#2a3142]"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("textarea",{value:S,onChange:e=>_(e.target.value),placeholder:O.placeholder,className:"w-full bg-[#151922] border border-[#2a3142] rounded p-3 text-white focus:border-[#ff6600] focus:ring-1 focus:ring-[#ff6600] transition-colors resize-none h-24",disabled:A}),k&&(0,a.jsx)("p",{className:"text-red-500 text-sm mt-2",children:k}),(0,a.jsx)("div",{className:"flex justify-end mt-2",children:(0,a.jsx)("button",{type:"submit",disabled:A||!S.trim(),className:"bg-[#ff6600] hover:bg-[#e65c00] text-white font-bold py-2 px-6 rounded disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:A?O.submitting:O.submit})})]})]})}):(0,a.jsxs)("div",{className:"bg-[#151922] rounded p-6 text-center mb-8 border border-[#2a3142] border-dashed",children:[(0,a.jsx)("p",{className:"text-gray-400 mb-4",children:O.login}),(0,a.jsx)("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"text-[#ff6600] font-bold hover:underline",children:"Go to Top to Login"})]}),(0,a.jsx)("div",{className:"space-y-6",children:0!==g.length||j?g.map(e=>(0,a.jsxs)("div",{className:"flex gap-4 group",children:[(0,a.jsx)("div",{className:"shrink-0",children:(0,a.jsx)("div",{className:"w-10 h-10 rounded-full bg-[#2a3142] flex items-center justify-center text-[#ff6600] font-bold text-lg",children:e.username?e.username.charAt(0).toUpperCase():"?"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("span",{className:"text-white font-bold",children:e.username||"Anonymous"}),(0,a.jsxs)("span",{className:"text-gray-500 text-xs",children:["• ",(0,c.m)(new Date(e.created_at),{addSuffix:!0,locale:D})]})]}),(0,a.jsx)("p",{className:"text-gray-300 text-sm leading-relaxed whitespace-pre-wrap",children:e.content})]})]},e.id)):(0,a.jsx)("p",{className:"text-gray-500 text-center italic",children:O.empty})}),g.length<b&&(0,a.jsx)("div",{className:"mt-8 text-center",children:(0,a.jsx)("button",{onClick:()=>L(!1),disabled:j,className:"text-gray-400 hover:text-white font-medium text-sm border border-[#2a3142] hover:border-gray-500 px-6 py-2 rounded-full transition-colors",children:j?"Loading...":O.loadMore})})]})}},58213:(e,t,s)=>{s.r(t),s.d(t,{default:()=>o});var a=s(95155),r=s(48173),l=s.n(r),n=s(79447);function o(e){let{items:t,lang:s="en"}=e,r=[{label:"fr"===s?"Accueil":"Home",href:"en"===s?"/":"/fr"},...t],o=r.map(e=>({name:e.label,url:e.href})),i=(0,n.WO)(o);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.Ay,{data:i,id:"breadcrumbs-schema"}),(0,a.jsx)("nav",{"aria-label":"Breadcrumb",className:"text-sm text-gray-400 mb-6 font-mono",children:(0,a.jsx)("ol",{className:"list-none p-0 inline-flex flex-wrap",children:r.map((e,t)=>{let s=t===r.length-1;return(0,a.jsxs)("li",{className:"flex items-center",children:[t>0&&(0,a.jsx)("span",{className:"mx-2 text-gray-600",children:"/"}),s?(0,a.jsx)("span",{className:"text-white font-medium","aria-current":"page",children:e.label}):(0,a.jsx)(l(),{href:e.href,className:"hover:text-[#ff6600] transition-colors",children:e.label})]},e.href)})})})]})}},79447:(e,t,s)=>{s.d(t,{Ay:()=>r,U_:()=>n,WO:()=>l});var a=s(95155);function r(e){let{data:t,id:s}=e;return(0,a.jsx)("script",{id:s,type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(t)}})}s(12115);let l=e=>({"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:e.map((e,t)=>({"@type":"ListItem",position:t+1,name:e.name,item:"https://retrocharting.com".concat(e.url)}))}),n=(e,t)=>({"@context":"https://schema.org","@type":"ItemList",name:e,itemListElement:t.map(e=>({"@type":"ListItem",position:e.position,url:e.url,name:e.name,image:e.image}))})},32597:(e,t,s)=>{s.d(t,{I:()=>o,LanguageAlternateProvider:()=>n});var a=s(95155),r=s(12115);let l=(0,r.createContext)(void 0);function n(e){let{children:t}=e,[s,n]=(0,r.useState)({});return(0,a.jsx)(l.Provider,{value:{alternates:s,setAlternates:n},children:t})}function o(){let e=(0,r.useContext)(l);if(!e)throw Error("useLanguageAlternate must be used within a LanguageAlternateProvider");return e}},71284:(e,t,s)=>{s.d(t,{i:()=>r,w:()=>a});let a={games:{en:"games",fr:"games"},consoles:{en:"consoles",fr:"consoles"},accessories:{en:"accessories",fr:"accessories"},collectibles:{en:"collectibles",fr:"collectibles"}},r={};Object.entries(a).forEach(e=>{let[t,s]=e;Object.entries(s).forEach(e=>{let[s,a]=e;r[s]||(r[s]={}),r[s][a]=t})})},21567:(e,t,s)=>{s.d(t,{sq:()=>r});var a=s(71284);function r(e){var t;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",r="games";e.genre&&["Accessories","Controllers"].includes(e.genre)?r="accessories":e.genre&&["Systems","Console","Consoles"].includes(e.genre)&&(r="consoles");let l=(null===(t=a.w[r])||void 0===t?void 0:t[s])||r;if(e.game_slug)return"en"===s?"/".concat(l,"/").concat(e.game_slug):"/".concat(s,"/").concat(l,"/").concat(e.game_slug);let n=(e.product_name||"unknown-product").toLowerCase(),o=(n=n.replace(/[\[\]\(\)]/g,"")).replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),i=(function(e){let t={"Playstation 5":"PS5","Playstation 4":"PS4","Playstation 3":"PS3","Playstation 2":"PS2",Playstation:"PS1","Nintendo Entertainment System":"NES","Super Nintendo":"SNES","Nintendo 64":"N64",GameCube:"GCN","Game Boy Advance":"GBA","Game Boy Color":"GBC","Sega Genesis":"Genesis","Sega Dreamcast":"Dreamcast","Sega Saturn":"Saturn","Xbox Series X":"Xbox Series X","Xbox One":"Xbox One","Xbox 360":"Xbox 360"},s=e.trim();for(let e in t)if(e.toLowerCase()===s.toLowerCase())return t[e];return e})(e.console_name||"unknown-console").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),c=i.replace(/^(pal-|jp-|japan-)/,""),d=i.match(/^(pal-|jp-|japan-)/),x=d?d[0]:"",m=o;o.includes(c)?x&&!m.startsWith(x)&&(m="".concat(x).concat(m)):m="".concat(o,"-").concat(i);let u=s?s.toLowerCase():"en",p="".concat(m,"-").concat({fr:"cote-prix",en:"prices"}[u]||"prices","-").concat(e.id);return"en"===s?"/".concat(l,"/").concat(p):"/".concat(s,"/").concat(l,"/").concat(p)}}}]);