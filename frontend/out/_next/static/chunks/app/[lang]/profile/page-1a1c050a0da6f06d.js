(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[853],{9877:(e,t,s)=>{Promise.resolve().then(s.bind(s,66704))},80022:(e,t,s)=>{"use strict";s.d(t,{G_:()=>a,j:()=>i});var r=s(12115);let l=(0,r.createContext)(null);function a(e){let{clientId:t,nonce:s,onScriptLoadSuccess:a,onScriptLoadError:o,children:i}=e,n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{nonce:t,onScriptLoadSuccess:s,onScriptLoadError:l}=e,[a,o]=(0,r.useState)(!1),i=(0,r.useRef)(s);i.current=s;let n=(0,r.useRef)(l);return n.current=l,(0,r.useEffect)(()=>{let e=document.createElement("script");return e.src="https://accounts.google.com/gsi/client",e.async=!0,e.defer=!0,e.nonce=t,e.onload=()=>{var e;o(!0),null===(e=i.current)||void 0===e||e.call(i)},e.onerror=()=>{var e;o(!1),null===(e=n.current)||void 0===e||e.call(n)},document.body.appendChild(e),()=>{document.body.removeChild(e)}},[t]),a}({nonce:s,onScriptLoadSuccess:a,onScriptLoadError:o}),c=(0,r.useMemo)(()=>({clientId:t,scriptLoadedSuccessfully:n}),[t,n]);return r.createElement(l.Provider,{value:c},i)}let o={large:40,medium:32,small:20};function i(e){let{onSuccess:t,onError:s,useOneTap:a,promptMomentNotification:i,type:n="standard",theme:c="outline",size:d="large",text:x,shape:u,logo_alignment:m,width:h,locale:f,click_listener:g,containerProps:b,...p}=e,v=(0,r.useRef)(null),{clientId:j,scriptLoadedSuccessfully:N}=function(){let e=(0,r.useContext)(l);if(!e)throw Error("Google OAuth components must be used within GoogleOAuthProvider");return e}(),w=(0,r.useRef)(t);w.current=t;let y=(0,r.useRef)(s);y.current=s;let C=(0,r.useRef)(i);return C.current=i,(0,r.useEffect)(()=>{var e,t,s,r,l,o,i,b,k;if(N)return null===(s=null===(t=null===(e=null==window?void 0:window.google)||void 0===e?void 0:e.accounts)||void 0===t?void 0:t.id)||void 0===s||s.initialize({client_id:j,callback:e=>{var t,s;if(!(null==e?void 0:e.credential))return null===(t=y.current)||void 0===t?void 0:t.call(y);let{credential:r,select_by:l}=e;w.current({credential:r,clientId:null!==(s=null==e?void 0:e.clientId)&&void 0!==s?s:null==e?void 0:e.client_id,select_by:l})},...p}),null===(o=null===(l=null===(r=null==window?void 0:window.google)||void 0===r?void 0:r.accounts)||void 0===l?void 0:l.id)||void 0===o||o.renderButton(v.current,{type:n,theme:c,size:d,text:x,shape:u,logo_alignment:m,width:h,locale:f,click_listener:g}),a&&(null===(k=null===(b=null===(i=null==window?void 0:window.google)||void 0===i?void 0:i.accounts)||void 0===b?void 0:b.id)||void 0===k||k.prompt(C.current)),()=>{var e,t,s;a&&(null===(s=null===(t=null===(e=null==window?void 0:window.google)||void 0===e?void 0:e.accounts)||void 0===t?void 0:t.id)||void 0===s||s.cancel())}},[j,N,a,n,c,d,x,u,m,h,f]),r.createElement("div",{...b,ref:v,style:{height:o[d],...null==b?void 0:b.style}})}},76046:(e,t,s)=>{"use strict";var r=s(66658);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},66704:(e,t,s)=>{"use strict";s.d(t,{default:()=>g});var r=s(95155),l=s(12115),a=s(68435),o=s(85534),i=s(76046);function n(e){let{user:t}=e;return(0,r.jsxs)("div",{className:"flex flex-col md:flex-row items-center gap-6 mb-8",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"w-24 h-24 rounded-full bg-gradient-to-r from-[#ff6600] to-orange-500 p-1",children:(0,r.jsx)("img",{src:t.avatar_url||"https://api.dicebear.com/7.x/pixel-art/svg?seed="+t.username,alt:t.username,className:"w-full h-full rounded-full bg-[#0f121e] object-cover"})}),(0,r.jsx)("div",{className:"absolute bottom-0 right-0 w-6 h-6 bg-green-500 rounded-full border-4 border-[#0f121e]"})]}),(0,r.jsxs)("div",{className:"flex-1 text-center md:text-left",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-white mb-1",children:t.username}),(0,r.jsxs)("div",{className:"flex items-center justify-center md:justify-start gap-2 text-[#ff6600] font-bold uppercase tracking-wider text-sm mb-4",children:[(0,r.jsxs)("span",{children:["\uD83C\uDFC6 ",t.rank]}),(0,r.jsx)("span",{className:"text-gray-600",children:"•"}),(0,r.jsxs)("span",{children:["Lvl ",Math.floor(t.xp/1e3)+1]})]}),(0,r.jsxs)("div",{className:"w-full max-w-md",children:[(0,r.jsxs)("div",{className:"flex justify-between text-xs text-gray-400 mb-1",children:[(0,r.jsx)("span",{children:"XP Progress"}),(0,r.jsxs)("span",{children:[t.progress,"%"]})]}),(0,r.jsx)("div",{className:"h-3 bg-[#1f2533] rounded-full overflow-hidden border border-[#2a3142]",children:(0,r.jsx)("div",{className:"h-full bg-gradient-to-r from-orange-600 to-[#ff6600] transition-all duration-1000 ease-out",style:{width:"".concat(t.progress,"%")}})})]})]})]})}var c=s(31558),d=s(11977);function x(e){let{kpis:t}=e,{currency:s}=(0,c.H)(),l=e=>(0,d.$g)((0,d.Tt)(e,s),s);return(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,r.jsxs)("div",{className:"bg-[#1f2533] p-6 rounded-xl border border-[#2a3142] relative overflow-hidden group hover:border-[#ff6600] transition-colors",children:[(0,r.jsx)("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:(0,r.jsx)("span",{className:"text-6xl",children:"\uD83D\uDCB0"})}),(0,r.jsx)("h3",{className:"text-gray-400 uppercase text-xs font-bold mb-2",children:"Total Value"}),(0,r.jsx)("div",{className:"text-3xl font-bold text-[#22c55e]",children:l(t.total_value)}),(0,r.jsx)("div",{className:"text-xs text-green-500/80 mt-1 flex items-center gap-1",children:(0,r.jsx)("span",{children:"▲ Market Value"})})]}),(0,r.jsxs)("div",{className:"bg-[#1f2533] p-6 rounded-xl border border-[#2a3142] relative overflow-hidden group hover:border-[#ff6600] transition-colors",children:[(0,r.jsx)("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:(0,r.jsx)("span",{className:"text-6xl",children:"\uD83D\uDCB8"})}),(0,r.jsx)("h3",{className:"text-gray-400 uppercase text-xs font-bold mb-2",children:"Invested"}),(0,r.jsx)("div",{className:"text-3xl font-bold text-red-400",children:l(t.invested)}),(0,r.jsx)("div",{className:"text-xs text-red-400/80 mt-1",children:"Cost Basis"})]}),(0,r.jsxs)("div",{className:"bg-[#1f2533] p-6 rounded-xl border border-[#2a3142] relative overflow-hidden group hover:border-[#ff6600] transition-colors",children:[(0,r.jsx)("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:(0,r.jsx)("span",{className:"text-6xl",children:"\uD83C\uDFAE"})}),(0,r.jsx)("h3",{className:"text-gray-400 uppercase text-xs font-bold mb-2",children:"Collection Size"}),(0,r.jsx)("div",{className:"text-3xl font-bold text-white",children:t.item_count}),(0,r.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Physical Items"})]}),(0,r.jsxs)("div",{className:"bg-[#1f2533] p-6 rounded-xl border border-[#2a3142] relative overflow-hidden group hover:border-[#ff6600] transition-colors",children:[(0,r.jsx)("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:(0,r.jsx)("span",{className:"text-6xl",children:"\uD83D\uDED2"})}),(0,r.jsx)("h3",{className:"text-gray-400 uppercase text-xs font-bold mb-2",children:"Wishlist Value"}),(0,r.jsx)("div",{className:"text-3xl font-bold text-orange-400",children:l(t.wishlist_cost)}),(0,r.jsxs)("div",{className:"text-xs text-orange-400/80 mt-1",children:[t.wishlist_count," wanted items"]})]})]})}var u=s(48173),m=s.n(u);function h(e){let{items:t,type:s,groupBy:l="NONE"}=e,{currency:a}=(0,c.H)();if(!t||0===t.length)return(0,r.jsxs)("div",{className:"text-center py-20 bg-[#1f2533] rounded-xl border border-[#2a3142] border-dashed",children:[(0,r.jsx)("div",{className:"text-6xl mb-4 opacity-50",children:"COLLECTION"===s?"\uD83D\uDCE6":"\uD83D\uDED2"}),(0,r.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"COLLECTION"===s?"Your collection is empty":"Your wishlist is empty"}),(0,r.jsx)("p",{className:"text-gray-400 mb-6",children:"COLLECTION"===s?"Start tracking your games to see them here.":"Add games you want to buy to track their cost."}),(0,r.jsx)(m(),{href:"/games",className:"bg-[#ff6600] text-white px-6 py-2 rounded-full font-bold hover:bg-[#ff8533] transition-colors",children:"Browse Games"})]});let o=e=>{let t=(0,d.Tt)(e.value,a);return(0,r.jsxs)("div",{className:"group relative bg-[#1f2533] rounded-lg overflow-hidden border border-[#2a3142] hover:border-[#ff6600] transition-all hover:shadow-lg hover:shadow-orange-900/20",children:[(0,r.jsxs)("div",{className:"aspect-[3/4] relative",children:[e.image_url?(0,r.jsx)("img",{src:e.image_url,alt:e.product_name,className:"w-full h-full object-cover transition-transform group-hover:scale-105"}):(0,r.jsx)("div",{className:"w-full h-full bg-[#111] flex items-center justify-center text-gray-700 font-bold text-xs",children:"NO IMAGE"}),(0,r.jsx)("div",{className:"absolute top-2 right-2 bg-black/80 backdrop-blur text-white text-[10px] font-bold px-2 py-0.5 rounded border border-gray-700",children:e.condition})]}),(0,r.jsxs)("div",{className:"p-3",children:[(0,r.jsx)("div",{className:"text-xs text-gray-500 mb-1 truncate",children:e.console_name}),(0,r.jsx)(m(),{href:"/".concat(e.console_name.toLowerCase().replace(/ /g,"-"),"/").concat(e.product_name.toLowerCase().replace(/ /g,"-"),"-").concat(e.product_id),className:"block",children:(0,r.jsx)("h3",{className:"font-bold text-white text-sm leading-tight line-clamp-2 h-10 mb-2 group-hover:text-[#ff6600] transition-colors",children:e.product_name})}),(0,r.jsx)("div",{className:"flex items-center justify-between mt-auto",children:(0,r.jsx)("div",{className:"text-[#22c55e] font-bold text-sm",children:(0,d.$g)(t,a)})})]})]},e.id)};if("CONSOLE"===l){let e={};t.forEach(t=>{e[t.console_name]||(e[t.console_name]=[]),e[t.console_name].push(t)});let s=Object.keys(e).sort();return(0,r.jsx)("div",{className:"space-y-8",children:s.map(t=>(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"text-xl font-bold text-white mb-4 border-l-4 border-[#ff6600] pl-3 flex items-center gap-2",children:[t,(0,r.jsx)("span",{className:"text-sm font-normal text-gray-500 bg-[#2a3142] px-2 py-0.5 rounded-full",children:e[t].length})]}),(0,r.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:e[t].map(o)})]},t))})}return(0,r.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:t.map(o)})}function f(e){let{items:t}=e,{currency:s}=(0,c.H)();return t&&0!==t.length?(0,r.jsxs)("div",{className:"bg-[#1f2533] p-6 rounded-xl border border-[#2a3142]",children:[(0,r.jsx)("h3",{className:"text-xl font-bold mb-6 text-white",children:"Top Assets"}),(0,r.jsx)("div",{className:"flex flex-col gap-4",children:t.map((e,t)=>{let l=(0,d.Tt)(e.value,s);return(0,r.jsxs)("div",{className:"flex items-center gap-4 group",children:[(0,r.jsx)("div",{className:"w-12 h-16 bg-black rounded overflow-hidden shrink-0 border border-gray-800",children:e.image?(0,r.jsx)("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover"}):(0,r.jsx)("div",{className:"w-full h-full flex items-center justify-center text-[8px] text-gray-600",children:"NO IMG"})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("div",{className:"text-sm font-bold text-white truncate group-hover:text-[#ff6600] transition-colors",title:e.name,children:e.name}),(0,r.jsx)("div",{className:"text-xs text-gray-500 truncate",children:e.console})]}),(0,r.jsx)("div",{className:"text-right",children:(0,r.jsx)("div",{className:"font-bold text-[#22c55e]",children:(0,d.$g)(l,s)})})]},t)})})]}):null}function g(){let{token:e,isAuthenticated:t}=(0,a.A)(),[s,c]=(0,l.useState)(!0),[d,u]=(0,l.useState)(null),[m,g]=(0,l.useState)("COLLECTION"),[b,p]=(0,l.useState)(!1),v=(0,i.useParams)();return(null==v||v.lang,(0,l.useEffect)(()=>{t&&s();async function s(){e&&(c(!0),u(await (0,o.fA)(e)),c(!1))}},[e,t]),t)?s?(0,r.jsx)("div",{className:"min-h-screen bg-[#0f121e] flex items-center justify-center text-white",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#ff6600]"})}):d?(0,r.jsx)("main",{className:"min-h-screen bg-[#0f121e] py-8 pb-20",children:(0,r.jsxs)("div",{className:"max-w-[1400px] mx-auto px-4",children:[(0,r.jsx)(n,{user:d.user}),(0,r.jsx)(x,{kpis:d.kpis}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[(0,r.jsxs)("div",{className:"lg:col-span-9",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-6 border-b border-[#2a3142]",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)("button",{onClick:()=>g("COLLECTION"),className:"px-6 py-3 font-bold text-sm uppercase tracking-wide border-b-2 transition-colors ".concat("COLLECTION"===m?"border-[#ff6600] text-white":"border-transparent text-gray-500 hover:text-gray-300"),children:"Collection"}),(0,r.jsx)("button",{onClick:()=>g("WISHLIST"),className:"px-6 py-3 font-bold text-sm uppercase tracking-wide border-b-2 transition-colors ".concat("WISHLIST"===m?"border-[#ff6600] text-white":"border-transparent text-gray-500 hover:text-gray-300"),children:"Wishlist"}),(0,r.jsx)("button",{onClick:()=>g("ANALYTICS"),className:"px-6 py-3 font-bold text-sm uppercase tracking-wide border-b-2 transition-colors ".concat("ANALYTICS"===m?"border-[#ff6600] text-white":"border-transparent text-gray-500 hover:text-gray-300"),children:"Analytics"})]}),"ANALYTICS"!==m&&(0,r.jsx)("div",{className:"flex items-center gap-2 px-4 py-2",children:(0,r.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:"checkbox",className:"sr-only",checked:b,onChange:e=>p(e.target.checked)}),(0,r.jsx)("div",{className:"w-10 h-6 bg-[#2a3142] rounded-full shadow-inner transition-colors ".concat(b?"bg-[#ff6600]":"")}),(0,r.jsx)("div",{className:"absolute top-1 left-1 w-4 h-4 bg-white rounded-full shadow transition-transform ".concat(b?"translate-x-4":"")})]}),(0,r.jsx)("span",{className:"text-sm text-gray-400 font-medium",children:"Group by Console"})]})})]}),"ANALYTICS"===m?(0,r.jsxs)("div",{className:"bg-[#1f2533] rounded-xl border border-[#2a3142] p-8 text-center",children:[(0,r.jsx)("h3",{className:"text-2xl font-bold text-white mb-4",children:"Analytics Dashboard"}),(0,r.jsx)("p",{className:"text-gray-400",children:"Detailed charts coming soon in Phase 3!"})]}):(0,r.jsx)(h,{items:"COLLECTION"===m?d.collection:d.wishlist,type:m,groupBy:b?"CONSOLE":"NONE"})]}),(0,r.jsxs)("div",{className:"lg:col-span-3",children:[(0,r.jsx)(f,{items:d.top_items}),(0,r.jsxs)("div",{className:"mt-6 bg-[#1f2533] p-6 rounded-xl border border-[#2a3142]",children:[(0,r.jsx)("h3",{className:"font-bold text-white mb-2",children:"Share Profile"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mb-4",children:"Show off your collection to the world."}),(0,r.jsxs)("button",{onClick:()=>{let e="".concat(window.location.origin,"/u/").concat(d.user.username);navigator.clipboard.writeText(e),alert("Public profile link copied to clipboard!")},className:"w-full bg-[#2a3142] hover:bg-[#353e54] text-white font-bold py-2 px-4 rounded border border-[#3a4152] transition-colors flex items-center justify-center gap-2",children:[(0,r.jsx)("span",{children:"\uD83D\uDD17"})," Copy Public Link"]})]})]})]})]})}):(0,r.jsx)("div",{className:"min-h-screen bg-[#0f121e] flex items-center justify-center text-white",children:(0,r.jsx)("p",{children:"Failed to load profile data."})}):(0,r.jsxs)("div",{className:"min-h-screen bg-[#0f121e] flex flex-col items-center justify-center text-white px-4",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"Profile Access"}),(0,r.jsx)("p",{className:"text-gray-400 mb-8",children:"Please log in to view your profile and collection."}),(0,r.jsx)("a",{href:"/login",className:"bg-[#ff6600] text-white px-6 py-3 rounded-full font-bold hover:bg-[#ff8533]",children:"Login"})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[651,173,78,441,517,358],()=>t(9877)),_N_E=e.O()}]);