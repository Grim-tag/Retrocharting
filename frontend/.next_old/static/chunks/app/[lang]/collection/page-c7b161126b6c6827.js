(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[960],{46136:(e,t,r)=>{Promise.resolve().then(r.bind(r,52788))},80022:(e,t,r)=>{"use strict";r.d(t,{G_:()=>n,j:()=>s});var a=r(12115);let o=(0,a.createContext)(null);function n(e){let{clientId:t,nonce:r,onScriptLoadSuccess:n,onScriptLoadError:l,children:s}=e,i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{nonce:t,onScriptLoadSuccess:r,onScriptLoadError:o}=e,[n,l]=(0,a.useState)(!1),s=(0,a.useRef)(r);s.current=r;let i=(0,a.useRef)(o);return i.current=o,(0,a.useEffect)(()=>{let e=document.createElement("script");return e.src="https://accounts.google.com/gsi/client",e.async=!0,e.defer=!0,e.nonce=t,e.onload=()=>{var e;l(!0),null===(e=s.current)||void 0===e||e.call(s)},e.onerror=()=>{var e;l(!1),null===(e=i.current)||void 0===e||e.call(i)},document.body.appendChild(e),()=>{document.body.removeChild(e)}},[t]),n}({nonce:r,onScriptLoadSuccess:n,onScriptLoadError:l}),c=(0,a.useMemo)(()=>({clientId:t,scriptLoadedSuccessfully:i}),[t,i]);return a.createElement(o.Provider,{value:c},s)}let l={large:40,medium:32,small:20};function s(e){let{onSuccess:t,onError:r,useOneTap:n,promptMomentNotification:s,type:i="standard",theme:c="outline",size:d="large",text:u,shape:m,logo_alignment:h,width:x,locale:p,click_listener:g,containerProps:f,...v}=e,b=(0,a.useRef)(null),{clientId:y,scriptLoadedSuccessfully:w}=function(){let e=(0,a.useContext)(o);if(!e)throw Error("Google OAuth components must be used within GoogleOAuthProvider");return e}(),j=(0,a.useRef)(t);j.current=t;let N=(0,a.useRef)(r);N.current=r;let _=(0,a.useRef)(s);return _.current=s,(0,a.useEffect)(()=>{var e,t,r,a,o,l,s,f,k;if(w)return null===(r=null===(t=null===(e=null==window?void 0:window.google)||void 0===e?void 0:e.accounts)||void 0===t?void 0:t.id)||void 0===r||r.initialize({client_id:y,callback:e=>{var t,r;if(!(null==e?void 0:e.credential))return null===(t=N.current)||void 0===t?void 0:t.call(N);let{credential:a,select_by:o}=e;j.current({credential:a,clientId:null!==(r=null==e?void 0:e.clientId)&&void 0!==r?r:null==e?void 0:e.client_id,select_by:o})},...v}),null===(l=null===(o=null===(a=null==window?void 0:window.google)||void 0===a?void 0:a.accounts)||void 0===o?void 0:o.id)||void 0===l||l.renderButton(b.current,{type:i,theme:c,size:d,text:u,shape:m,logo_alignment:h,width:x,locale:p,click_listener:g}),n&&(null===(k=null===(f=null===(s=null==window?void 0:window.google)||void 0===s?void 0:s.accounts)||void 0===f?void 0:f.id)||void 0===k||k.prompt(_.current)),()=>{var e,t,r;n&&(null===(r=null===(t=null===(e=null==window?void 0:window.google)||void 0===e?void 0:e.accounts)||void 0===t?void 0:t.id)||void 0===r||r.cancel())}},[y,w,n,i,c,d,u,m,h,x,p]),a.createElement("div",{...f,ref:b,style:{height:l[d],...null==f?void 0:f.style}})}},76046:(e,t,r)=>{"use strict";var a=r(66658);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},52788:(e,t,r)=>{"use strict";r.d(t,{default:()=>p});var a=r(95155),o=r(68435),n=r(85534),l=r(76046),s=r(12115),i=r(11977),c=r(31558);function d(e){let{item:t,isOpen:r,onClose:l,onSave:d,lang:u}=e,{token:m}=(0,o.A)(),[h,x]=(0,s.useState)("LOOSE"),[p,g]=(0,s.useState)(""),[f,v]=(0,s.useState)(""),[b,y]=(0,s.useState)(""),[w,j]=(0,s.useState)([]),[N,_]=(0,s.useState)(!1),{currency:k}=(0,c.H)(),C=(0,i.Qn)(k);if((0,s.useEffect)(()=>{if(t){if(x(t.condition),g(t.notes||""),null!==t.paid_price&&void 0!==t.paid_price){let e=(0,i.Tt)(t.paid_price,k);null!==e?v(e.toFixed(2)):v("")}else v("");t.purchase_date?y(new Date(t.purchase_date).toISOString().split("T")[0]):y("");try{t.user_images?j(JSON.parse(t.user_images)):j([])}catch(e){j([])}}},[t,k]),!r||!t)return null;let S=async()=>{if(m){_(!0);try{let e;if(f){let t=parseFloat(f.replace(",","."));isNaN(t)||(e=(0,i.Q3)(t,k))}let r=await (0,n.Li)(m,t.id,{condition:h,notes:p,paid_price:e,purchase_date:b?new Date(b).toISOString():void 0,user_images:JSON.stringify(w)});d(r),l()}catch(e){console.error(e),alert("Failed to save changes")}finally{_(!1)}}};return(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:(0,a.jsxs)("div",{className:"bg-[#1f2533] border border-[#3a4152] rounded-xl shadow-2xl max-w-md w-full p-6 text-white relative animate-fade-in-up",children:[(0,a.jsx)("button",{onClick:l,className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:"✕"}),(0,a.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Edit Item"}),(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6 bg-[#2a3142] p-3 rounded",children:[t.image_url&&(0,a.jsx)("img",{src:t.image_url,className:"w-12 h-12 rounded object-cover"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-bold text-sm",children:t.product_name}),(0,a.jsx)("div",{className:"text-xs text-gray-400",children:t.console_name})]})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-xs uppercase text-gray-400 mb-2",children:"Condition"}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-2",children:["LOOSE","CIB","NEW","GRADED"].map(e=>(0,a.jsx)("button",{onClick:()=>x(e),className:"py-2 text-sm rounded border ".concat(h===e?"bg-[#ff6600] border-[#ff6600] text-white":"bg-[#2a3142] border-[#3a4152] text-gray-300 hover:border-gray-500"),children:e},e))})]}),(0,a.jsxs)("div",{className:"mb-4 grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-xs uppercase text-gray-400 mb-2",children:["Price Paid (",C,")"]}),(0,a.jsx)("input",{type:"number",step:"0.01",value:f,onChange:e=>v(e.target.value),className:"w-full bg-[#0f121e] border border-[#3a4152] rounded p-2 text-sm text-white focus:border-[#ff6600] outline-none"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs uppercase text-gray-400 mb-2",children:"Purchase Date"}),(0,a.jsx)("input",{type:"date",value:b,onChange:e=>y(e.target.value),className:"w-full bg-[#0f121e] border border-[#3a4152] rounded p-2 text-sm text-white focus:border-[#ff6600] outline-none"})]})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-xs uppercase text-gray-400 mb-2",children:"My Photos (Max 3)"}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-2",children:[0,1,2].map(e=>(0,a.jsx)("div",{className:"aspect-square bg-[#0f121e] border border-[#3a4152] rounded flex items-center justify-center text-gray-500 text-xs relative overflow-hidden group",children:w[e]?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("img",{src:w[e],className:"w-full h-full object-cover"}),(0,a.jsx)("button",{onClick:()=>{let t=[...w];t.splice(e,1),j(t)},className:"absolute inset-0 bg-black/50 hidden group-hover:flex items-center justify-center text-red-400 font-bold",children:"X"})]}):(0,a.jsx)("span",{children:"Empty"})},e))}),(0,a.jsx)("div",{className:"text-[10px] text-gray-500 mt-1",children:"* Upload feature coming soon"})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{className:"block text-xs uppercase text-gray-400 mb-2",children:"Notes"}),(0,a.jsx)("textarea",{value:p,onChange:e=>g(e.target.value),className:"w-full bg-[#0f121e] border border-[#3a4152] rounded p-2 text-sm text-white focus:border-[#ff6600] outline-none",rows:2})]}),(0,a.jsx)("button",{onClick:S,disabled:N,className:"w-full bg-[#ff6600] hover:bg-[#e65c00] text-white font-bold py-3 rounded transition-colors",children:N?"Saving...":"Save Changes"})]})})}let u=s.forwardRef(function(e,t){let{title:r,titleId:a,...o}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},o),r?s.createElement("title",{id:a},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}),m=s.forwardRef(function(e,t){let{title:r,titleId:a,...o}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},o),r?s.createElement("title",{id:a},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))});var h=r(48173),x=r.n(h);function p(e){let{dict:t,lang:r}=e,{user:h,token:p,isAuthenticated:g}=(0,o.A)(),f=(0,l.useRouter)(),[v,b]=(0,s.useState)([]),[y,w]=(0,s.useState)(!0),[j,N]=(0,s.useState)(null),{currency:_}=(0,c.H)();(0,s.useEffect)(()=>{y||g||f.push("en"===r?"/":"/".concat(r))},[g,y,r,f]),(0,s.useEffect)(()=>{p?(0,n.X_)(p).then(e=>{b(e),w(!1)}):setTimeout(()=>w(!1),1e3)},[p]);let k=async e=>{confirm("Remove this item?")&&await (0,n.Sb)(p,e)&&b(v.filter(t=>t.id!==e))},[C,S]=(0,s.useState)("collection"),E=v.filter(e=>"WISHLIST"!==e.condition),L=v.filter(e=>"WISHLIST"===e.condition),P="collection"===C?E:L,I=P.reduce((e,t)=>e+(t.estimated_value||0),0);(0,i.Tt)(I,_);let R=P.length;return y?(0,a.jsx)("div",{className:"min-h-screen bg-[#1f2533] flex items-center justify-center text-white",children:"Loading..."}):g?(0,a.jsxs)("div",{className:"min-h-screen bg-[#1f2533] text-white",children:[(0,a.jsx)(d,{isOpen:!!j,item:j,onClose:()=>N(null),onSave:e=>{b(v.map(t=>t.id===e.id?e:t))},lang:r}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8 gap-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("img",{src:null==h?void 0:h.avatar_url,alt:"Avatar",className:"w-16 h-16 rounded-full border-2 border-[#ff6600]"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:(null==h?void 0:h.full_name)||"My Profile"}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:null==h?void 0:h.email}),(null==h?void 0:h.username)&&(0,a.jsxs)(x(),{href:"/".concat(r,"/user/").concat(h.username.toLowerCase()),className:"text-xs bg-[#2a3142] hover:bg-[#ff6600] text-gray-300 hover:text-white px-2 py-0.5 rounded transition-colors flex items-center gap-1",target:"_blank",children:[(0,a.jsx)("span",{children:"View Public Profile"}),(0,a.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-[#2a3142] rounded-lg p-4 flex gap-8 items-center border border-[#3a4152] shadow-lg",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-[#ff6600]",children:R}),(0,a.jsx)("div",{className:"text-xs uppercase tracking-wide text-gray-400",children:"collection"===C?"Games Owned":"Wished"})]}),(0,a.jsx)("div",{className:"w-px h-10 bg-[#3a4152]"}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-green-400",children:(0,i.$g)(I,_)}),(0,a.jsx)("div",{className:"text-xs uppercase tracking-wide text-gray-400",children:"Est. Value"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between border-b border-[#3a4152] mb-6",children:[(0,a.jsxs)("div",{className:"flex gap-6",children:[(0,a.jsxs)("button",{onClick:()=>S("collection"),className:"pb-4 text-sm font-bold uppercase tracking-wider transition-colors border-b-2 ".concat("collection"===C?"border-[#ff6600] text-white":"border-transparent text-gray-500 hover:text-gray-300"),children:["Collection (",E.length,")"]}),(0,a.jsxs)("button",{onClick:()=>S("wishlist"),className:"pb-4 text-sm font-bold uppercase tracking-wider transition-colors border-b-2 ".concat("wishlist"===C?"border-[#ff6600] text-white":"border-transparent text-gray-500 hover:text-gray-300"),children:["Wishlist (",L.length,")"]})]}),"collection"===C&&(0,a.jsxs)("button",{onClick:()=>f.push("/".concat(r,"/import")),className:"text-gray-400 hover:text-white flex items-center gap-2 text-sm pb-4",children:[(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),"Import CSV"]})]}),0===P.length?(0,a.jsxs)("div",{className:"text-center py-20 text-gray-500 bg-[#2a3142]/20 rounded-lg border border-dashed border-[#3a4152]",children:[(0,a.jsx)("p",{className:"text-xl font-medium mb-2",children:"collection"===C?"Your collection is empty.":"Your wishlist is empty."}),(0,a.jsx)("p",{className:"text-sm",children:"collection"===C?"Start adding games you own to track your portfolio!":"Browse the catalog and add games you want to buy!"}),(0,a.jsx)("button",{onClick:()=>f.push("/".concat(r,"/games")),className:"mt-6 bg-[#ff6600] text-white px-6 py-2 rounded-full font-bold hover:bg-[#e65c00] transition-colors",children:"Browse Games"})]}):(0,a.jsx)("div",{className:"overflow-x-auto bg-[#2a3142] rounded-lg shadow border border-[#3a4152]",children:(0,a.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"bg-[#1a202c] text-gray-400 text-xs uppercase tracking-wider",children:[(0,a.jsx)("th",{className:"p-4",children:"Game"}),(0,a.jsx)("th",{className:"p-4",children:"Console"}),(0,a.jsx)("th",{className:"p-4",children:"Condition"}),"collection"===C&&(0,a.jsx)("th",{className:"p-4 text-right",children:"Paid"}),(0,a.jsx)("th",{className:"p-4 text-right",children:"Value"}),"collection"===C&&(0,a.jsx)("th",{className:"p-4 text-right",children:"Profit"}),(0,a.jsx)("th",{className:"p-4 text-center",children:"Action"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-[#3a4152]",children:P.map(e=>{let t=e.estimated_value||0,o=e.paid_price,n=null!=o?t-o:null;return(0,a.jsxs)("tr",{className:"hover:bg-[#32394d] transition-colors",children:[(0,a.jsxs)("td",{className:"p-4 flex items-center gap-3",children:[(0,a.jsxs)("div",{onClick:()=>f.push("/".concat(r,"/games/").concat(e.console_name.toLowerCase().replace(/ /g,"-"),"/").concat(e.product_name.toLowerCase().replace(/ /g,"-").replace(/[^\w-]/g,""),"-").concat(e.product_id)),className:"flex items-center gap-3 cursor-pointer group",children:[e.image_url?(0,a.jsx)("img",{src:e.image_url,className:"w-10 h-10 object-cover rounded group-hover:opacity-80 transition-opacity"}):(0,a.jsx)("div",{className:"w-10 h-10 bg-gray-700 rounded flex items-center justify-center text-xs text-gray-500",children:"?"}),(0,a.jsx)("span",{className:"font-medium text-white group-hover:text-[#ff6600] transition-colors",children:e.product_name})]}),e.user_images&&(0,a.jsx)("span",{className:"text-[10px] bg-gray-700 px-1 rounded",title:"Initial Import",children:"☁️"})]}),(0,a.jsx)("td",{className:"p-4 text-gray-300",children:e.console_name}),(0,a.jsx)("td",{className:"p-4",children:(0,a.jsx)("span",{className:"px-2 py-1 rounded text-xs font-bold \n                                                    ".concat("NEW"===e.condition?"bg-green-900 text-green-300":"CIB"===e.condition?"bg-blue-900 text-blue-300":"WISHLIST"===e.condition?"bg-purple-900 text-purple-300":"bg-gray-700 text-gray-300"),children:e.condition})}),"collection"===C&&(0,a.jsx)("td",{className:"p-4 text-right font-mono text-gray-300",children:(0,i.$g)(o,_)}),(0,a.jsx)("td",{className:"p-4 text-right font-mono text-green-400",children:(0,i.$g)(t,_)}),"collection"===C&&(0,a.jsx)("td",{className:"p-4 text-right font-mono",children:null!==n?(0,a.jsxs)("span",{className:n>=0?"text-green-500":"text-red-500",children:[n>0?"+":"",(0,i.$g)(Math.abs(n),_)]}):(0,a.jsx)("span",{className:"text-gray-600",children:"-"})}),(0,a.jsx)("td",{className:"p-4 text-center",children:(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>N(e),className:"p-1.5 text-blue-400 hover:bg-blue-900/30 rounded transition-colors",title:"Edit Item",children:(0,a.jsx)(u,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>k(e.id),className:"p-1.5 text-red-400 hover:bg-red-900/30 rounded transition-colors",title:"Delete Item",children:(0,a.jsx)(m,{className:"w-4 h-4"})})]})})]},e.id)})})]})})]})]}):null}},68435:(e,t,r)=>{"use strict";r.d(t,{A:()=>d,AuthProvider:()=>c});var a=r(95155),o=r(12115),n=r(80022),l=r(85534),s=r(2818);let i=(0,o.createContext)(void 0);function c(e){let{children:t}=e,[r,c]=(0,o.useState)(null),[d,u]=(0,o.useState)(null),[m,h]=(0,o.useState)(!0);(0,o.useEffect)(()=>{let e=localStorage.getItem("rc_token");e?(u(e),(0,l.Ni)(e).then(e=>{e?c(e):p()}).finally(()=>h(!1))):h(!1)},[]);let x=async e=>{let t=await (0,l.XL)(e);t&&t.access_token&&(localStorage.setItem("rc_token",t.access_token),u(t.access_token),c(await (0,l.Ni)(t.access_token)))},p=()=>{localStorage.removeItem("rc_token"),u(null),c(null)},g=s.env.NEXT_PUBLIC_GOOGLE_CLIENT_ID||"";g||console.error("CRITICAL: NEXT_PUBLIC_GOOGLE_CLIENT_ID is missing. Google Login will fail.");let f=async()=>{d&&c(await (0,l.Ni)(d))};return(0,a.jsx)(n.G_,{clientId:g,children:(0,a.jsx)(i.Provider,{value:{user:r,token:d,login:x,logout:p,refreshUser:f,isAuthenticated:!!r,loading:m},children:t})})}function d(){let e=(0,o.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},31558:(e,t,r)=>{"use strict";r.d(t,{CurrencyProvider:()=>l,H:()=>s});var a=r(95155),o=r(12115);let n=(0,o.createContext)(void 0);function l(e){let{children:t}=e,[r,l]=(0,o.useState)("USD");return(0,o.useEffect)(()=>{let e=localStorage.getItem("retrocharting_currency");e&&("USD"===e||"EUR"===e||"GBP"===e)&&l(e)},[]),(0,a.jsx)(n.Provider,{value:{currency:r,setCurrency:e=>{l(e),localStorage.setItem("retrocharting_currency",e)}},children:t})}function s(){let e=(0,o.useContext)(n);if(void 0===e)throw Error("useCurrency must be used within a CurrencyProvider");return e}},85534:(e,t,r)=>{"use strict";r.d(t,{$_:()=>w,CG:()=>_,Go:()=>k,Li:()=>p,Ni:()=>m,R1:()=>n,Ri:()=>s,Sb:()=>g,Sz:()=>c,T2:()=>d,TK:()=>f,UQ:()=>i,XL:()=>u,X_:()=>h,bC:()=>b,e9:()=>o,fA:()=>N,jg:()=>y,mQ:()=>j,nL:()=>x,updateProduct:()=>l,xM:()=>v});var a=r(93681);function o(){return a.H}async function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,n=arguments.length>4?arguments[4]:void 0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6?arguments[6]:void 0;try{return(await a.u.get("/products/",{params:{console:e,limit:t,genre:r,type:o,sort:n,skip:l,search:s}})).data}catch(e){return console.error("Error fetching products:",e),[]}}async function l(e,t,r){try{return(await a.u.put("/products/".concat(e),t)).data}catch(t){return console.error("Error updating product ".concat(e,":"),t),null}}async function s(e){try{return(await a.u.get("/products/search/grouped",{params:{query:e}})).data}catch(e){return console.error("Error searching products grouped:",e),{}}}async function i(e){try{let t=await a.u.get("/products/".concat(e,"/listings"),{params:{_t:new Date().getTime()}}),r="true"===t.headers["x-is-stale"];return{data:t.data,isStale:r,status:t.status}}catch(e){var t;return{data:[],isStale:!1,status:(null===(t=e.response)||void 0===t?void 0:t.status)||500}}}async function c(e){try{return(await a.u.get("/products/".concat(e,"/related"))).data}catch(e){return console.error("Error fetching related products:",e),[]}}async function d(e,t,r,o){try{return await a.u.post("/translations/",{locale:e,key:t,value:r},{headers:{"X-Admin-Key":o}}),!0}catch(e){return console.error("Failed to save translation",e),!1}}async function u(e){try{return(await a.u.post("/auth/google",{credential:e})).data}catch(e){var t,r;throw console.error("Google Login failed",e),Error((null===(r=e.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.detail)||e.message||"Login failed")}}async function m(e){try{return(await a.u.get("/auth/me")).data}catch(e){return null}}async function h(e){try{return(await a.u.get("/collection/")).data}catch(e){return console.error("Failed to fetch collection",e),[]}}async function x(e,t,r,o,n){try{return(await a.u.post("/collection/",{product_id:t,condition:r,paid_price:n,notes:o})).data}catch(e){var l,s;throw console.error("Failed to add to collection",e),Error((null===(s=e.response)||void 0===s?void 0:null===(l=s.data)||void 0===l?void 0:l.detail)||"Failed to add to collection")}}async function p(e,t,r){try{return(await a.u.put("/collection/".concat(t),r)).data}catch(e){var o,n;throw console.error("Failed to update collection item",e),Error((null===(n=e.response)||void 0===n?void 0:null===(o=n.data)||void 0===o?void 0:o.detail)||"Failed to update item")}}async function g(e,t){try{return await a.u.delete("/collection/".concat(t)),!0}catch(e){return console.error("Failed to delete item",e),!1}}async function f(e,t){try{return(await a.u.put("/auth/me",t)).data}catch(e){throw e}}async function v(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;arguments.length>1&&arguments[1];try{return(await a.u.get("/products/stats/recently-scraped",{params:{limit:e}})).data}catch(e){return console.error("Failed to fetch recently scraped products",e),[]}}async function b(e){try{return(await a.u.get("/portfolio/summary")).data}catch(e){return console.error("Failed to fetch portfolio summary",e),{total_value:0,item_count:0,console_count:0,top_items:[]}}}async function y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;try{return(await a.u.get("/portfolio/history",{params:{range_days:t}})).data}catch(e){return console.error("Failed to fetch portfolio history",e),[]}}async function w(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;try{return(await a.u.get("/portfolio/movers",{params:{days:t}})).data}catch(e){return console.error("Failed to fetch portfolio movers",e),{gainers:[],losers:[]}}}async function j(e){try{return(await a.u.get("/portfolio/debug")).data}catch(e){return console.error("Failed to fetch portfolio debug",e),{error:"Failed to fetch debug info"}}}async function N(e){try{return(await a.u.get("/portfolio/dashboard")).data}catch(e){return console.error("Failed to fetch portfolio dashboard",e),null}}async function _(e,t){let r=new FormData;r.append("file",e);try{return(await a.u.post("/import/upload",r,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(e){var o,n;throw console.error("CSV upload failed",e),Error((null===(n=e.response)||void 0===n?void 0:null===(o=n.data)||void 0===o?void 0:o.detail)||"Upload failed")}}async function k(e,t){try{return(await a.u.post("/import/confirm",{items:e})).data}catch(e){var r,o;throw console.error("Bulk import failed",e),Error((null===(o=e.response)||void 0===o?void 0:null===(r=o.data)||void 0===r?void 0:r.detail)||"Import failed")}}},93681:(e,t,r)=>{"use strict";r.d(t,{H:()=>l,u:()=>s});var a=r(82651),o=r(2818);let n=o.env.NEXT_PUBLIC_API_URL?o.env.NEXT_PUBLIC_API_URL:"https://retrocharting-backend.onrender.com",l="".concat(n,"/api/v1"),s=a.A.create({baseURL:l,headers:{"Content-Type":"application/json"}});s.interceptors.request.use(e=>{{let t=localStorage.getItem("rc_token");t&&(e.headers.Authorization="Bearer ".concat(t))}return e},e=>Promise.reject(e)),s.interceptors.response.use(e=>e,e=>Promise.reject(e))},11977:(e,t,r)=>{"use strict";r.d(t,{$g:()=>i,Q3:()=>s,Qn:()=>n,Tt:()=>l,VK:()=>o});let a={USD:1,EUR:.95,GBP:.79},o=[{code:"USD",label:"USD ($)",symbol:"$"},{code:"EUR",label:"EUR (€)",symbol:"€"},{code:"GBP",label:"GBP (\xa3)",symbol:"\xa3"}];function n(e){let t=o.find(t=>t.code===e);return t?t.symbol:"$"}function l(e,t){return null==e?null:e*(a[t]||1)}function s(e,t){let r=a[t]||1;return 0===r?0:e/r}function i(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en-US";if(null==e)return"--";let a=l(e,t);if(null===a)return"--";try{return new Intl.NumberFormat(r,{style:"currency",currency:t}).format(a)}catch(e){return"".concat(t," ").concat(a.toFixed(2))}}}},e=>{var t=t=>e(e.s=t);e.O(0,[5714,2651,8173,8441,1517,7358],()=>t(46136)),_N_E=e.O()}]);