(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1853],{35903:(e,t,r)=>{Promise.resolve().then(r.bind(r,19809))},80022:(e,t,r)=>{"use strict";r.d(t,{G_:()=>s,j:()=>n});var o=r(12115);let a=(0,o.createContext)(null);function s(e){let{clientId:t,nonce:r,onScriptLoadSuccess:s,onScriptLoadError:l,children:n}=e,i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{nonce:t,onScriptLoadSuccess:r,onScriptLoadError:a}=e,[s,l]=(0,o.useState)(!1),n=(0,o.useRef)(r);n.current=r;let i=(0,o.useRef)(a);return i.current=a,(0,o.useEffect)(()=>{let e=document.createElement("script");return e.src="https://accounts.google.com/gsi/client",e.async=!0,e.defer=!0,e.nonce=t,e.onload=()=>{var e;l(!0),null===(e=n.current)||void 0===e||e.call(n)},e.onerror=()=>{var e;l(!1),null===(e=i.current)||void 0===e||e.call(i)},document.body.appendChild(e),()=>{document.body.removeChild(e)}},[t]),s}({nonce:r,onScriptLoadSuccess:s,onScriptLoadError:l}),c=(0,o.useMemo)(()=>({clientId:t,scriptLoadedSuccessfully:i}),[t,i]);return o.createElement(a.Provider,{value:c},n)}let l={large:40,medium:32,small:20};function n(e){let{onSuccess:t,onError:r,useOneTap:s,promptMomentNotification:n,type:i="standard",theme:c="outline",size:d="large",text:u,shape:h,logo_alignment:x,width:m,locale:f,click_listener:p,containerProps:g,...v}=e,b=(0,o.useRef)(null),{clientId:y,scriptLoadedSuccessfully:j}=function(){let e=(0,o.useContext)(a);if(!e)throw Error("Google OAuth components must be used within GoogleOAuthProvider");return e}(),N=(0,o.useRef)(t);N.current=t;let w=(0,o.useRef)(r);w.current=r;let C=(0,o.useRef)(n);return C.current=n,(0,o.useEffect)(()=>{var e,t,r,o,a,l,n,g,_;if(j)return null===(r=null===(t=null===(e=null==window?void 0:window.google)||void 0===e?void 0:e.accounts)||void 0===t?void 0:t.id)||void 0===r||r.initialize({client_id:y,callback:e=>{var t,r;if(!(null==e?void 0:e.credential))return null===(t=w.current)||void 0===t?void 0:t.call(w);let{credential:o,select_by:a}=e;N.current({credential:o,clientId:null!==(r=null==e?void 0:e.clientId)&&void 0!==r?r:null==e?void 0:e.client_id,select_by:a})},...v}),null===(l=null===(a=null===(o=null==window?void 0:window.google)||void 0===o?void 0:o.accounts)||void 0===a?void 0:a.id)||void 0===l||l.renderButton(b.current,{type:i,theme:c,size:d,text:u,shape:h,logo_alignment:x,width:m,locale:f,click_listener:p}),s&&(null===(_=null===(g=null===(n=null==window?void 0:window.google)||void 0===n?void 0:n.accounts)||void 0===g?void 0:g.id)||void 0===_||_.prompt(C.current)),()=>{var e,t,r;s&&(null===(r=null===(t=null===(e=null==window?void 0:window.google)||void 0===e?void 0:e.accounts)||void 0===t?void 0:t.id)||void 0===r||r.cancel())}},[y,j,s,i,c,d,u,h,x,m,f]),o.createElement("div",{...g,ref:b,style:{height:l[d],...null==g?void 0:g.style}})}},76046:(e,t,r)=>{"use strict";var o=r(66658);r.o(o,"useParams")&&r.d(t,{useParams:function(){return o.useParams}}),r.o(o,"usePathname")&&r.d(t,{usePathname:function(){return o.usePathname}}),r.o(o,"useRouter")&&r.d(t,{useRouter:function(){return o.useRouter}}),r.o(o,"useSearchParams")&&r.d(t,{useSearchParams:function(){return o.useSearchParams}})},19809:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var o=r(95155),a=r(12115),s=r(68435),l=r(85534),n=r(76046);function i(e){let{user:t}=e;return(0,o.jsxs)("div",{className:"flex flex-col md:flex-row items-center gap-6 mb-8",children:[(0,o.jsxs)("div",{className:"relative",children:[(0,o.jsx)("div",{className:"w-24 h-24 rounded-full bg-gradient-to-r from-[#ff6600] to-orange-500 p-1",children:(0,o.jsx)("img",{src:t.avatar_url||"https://api.dicebear.com/7.x/pixel-art/svg?seed="+t.username,alt:t.username,className:"w-full h-full rounded-full bg-[#0f121e] object-cover"})}),(0,o.jsx)("div",{className:"absolute bottom-0 right-0 w-6 h-6 bg-green-500 rounded-full border-4 border-[#0f121e]"})]}),(0,o.jsxs)("div",{className:"flex-1 text-center md:text-left",children:[(0,o.jsx)("h1",{className:"text-3xl font-bold text-white mb-1",children:t.username}),(0,o.jsxs)("div",{className:"flex items-center justify-center md:justify-start gap-2 text-[#ff6600] font-bold uppercase tracking-wider text-sm mb-4",children:[(0,o.jsxs)("span",{children:["\uD83C\uDFC6 ",t.rank]}),(0,o.jsx)("span",{className:"text-gray-600",children:"•"}),(0,o.jsxs)("span",{children:["Lvl ",Math.floor(t.xp/1e3)+1]})]}),(0,o.jsxs)("div",{className:"w-full max-w-md",children:[(0,o.jsxs)("div",{className:"flex justify-between text-xs text-gray-400 mb-1",children:[(0,o.jsx)("span",{children:"XP Progress"}),(0,o.jsxs)("span",{children:[t.progress,"%"]})]}),(0,o.jsx)("div",{className:"h-3 bg-[#1f2533] rounded-full overflow-hidden border border-[#2a3142]",children:(0,o.jsx)("div",{className:"h-full bg-gradient-to-r from-orange-600 to-[#ff6600] transition-all duration-1000 ease-out",style:{width:"".concat(t.progress,"%")}})})]})]})]})}var c=r(31558),d=r(11977);function u(e){let{kpis:t}=e,{currency:r}=(0,c.H)(),a=e=>(0,d.$g)((0,d.Tt)(e,r),r);return(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,o.jsxs)("div",{className:"bg-[#1f2533] p-6 rounded-xl border border-[#2a3142] relative overflow-hidden group hover:border-[#ff6600] transition-colors",children:[(0,o.jsx)("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:(0,o.jsx)("span",{className:"text-6xl",children:"\uD83D\uDCB0"})}),(0,o.jsx)("h3",{className:"text-gray-400 uppercase text-xs font-bold mb-2",children:"Total Value"}),(0,o.jsx)("div",{className:"text-3xl font-bold text-[#22c55e]",children:a(t.total_value)}),(0,o.jsx)("div",{className:"text-xs text-green-500/80 mt-1 flex items-center gap-1",children:(0,o.jsx)("span",{children:"▲ Market Value"})})]}),(0,o.jsxs)("div",{className:"bg-[#1f2533] p-6 rounded-xl border border-[#2a3142] relative overflow-hidden group hover:border-[#ff6600] transition-colors",children:[(0,o.jsx)("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:(0,o.jsx)("span",{className:"text-6xl",children:"\uD83D\uDCB8"})}),(0,o.jsx)("h3",{className:"text-gray-400 uppercase text-xs font-bold mb-2",children:"Invested"}),(0,o.jsx)("div",{className:"text-3xl font-bold text-red-400",children:a(t.invested)}),(0,o.jsx)("div",{className:"text-xs text-red-400/80 mt-1",children:"Cost Basis"})]}),(0,o.jsxs)("div",{className:"bg-[#1f2533] p-6 rounded-xl border border-[#2a3142] relative overflow-hidden group hover:border-[#ff6600] transition-colors",children:[(0,o.jsx)("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:(0,o.jsx)("span",{className:"text-6xl",children:"\uD83C\uDFAE"})}),(0,o.jsx)("h3",{className:"text-gray-400 uppercase text-xs font-bold mb-2",children:"Collection Size"}),(0,o.jsx)("div",{className:"text-3xl font-bold text-white",children:t.item_count}),(0,o.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Physical Items"})]}),(0,o.jsxs)("div",{className:"bg-[#1f2533] p-6 rounded-xl border border-[#2a3142] relative overflow-hidden group hover:border-[#ff6600] transition-colors",children:[(0,o.jsx)("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:(0,o.jsx)("span",{className:"text-6xl",children:"\uD83D\uDED2"})}),(0,o.jsx)("h3",{className:"text-gray-400 uppercase text-xs font-bold mb-2",children:"Wishlist Value"}),(0,o.jsx)("div",{className:"text-3xl font-bold text-orange-400",children:a(t.wishlist_cost)}),(0,o.jsxs)("div",{className:"text-xs text-orange-400/80 mt-1",children:[t.wishlist_count," wanted items"]})]})]})}var h=r(48173),x=r.n(h);function m(e){let{items:t,type:r,groupBy:a="NONE"}=e,{currency:s}=(0,c.H)();if(!t||0===t.length)return(0,o.jsxs)("div",{className:"text-center py-20 bg-[#1f2533] rounded-xl border border-[#2a3142] border-dashed",children:[(0,o.jsx)("div",{className:"text-6xl mb-4 opacity-50",children:"COLLECTION"===r?"\uD83D\uDCE6":"\uD83D\uDED2"}),(0,o.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"COLLECTION"===r?"Your collection is empty":"Your wishlist is empty"}),(0,o.jsx)("p",{className:"text-gray-400 mb-6",children:"COLLECTION"===r?"Start tracking your games to see them here.":"Add games you want to buy to track their cost."}),(0,o.jsx)(x(),{href:"/games",className:"bg-[#ff6600] text-white px-6 py-2 rounded-full font-bold hover:bg-[#ff8533] transition-colors",children:"Browse Games"})]});let l=e=>{let t=(0,d.Tt)(e.value,s);return(0,o.jsxs)("div",{className:"group relative bg-[#1f2533] rounded-lg overflow-hidden border border-[#2a3142] hover:border-[#ff6600] transition-all hover:shadow-lg hover:shadow-orange-900/20",children:[(0,o.jsxs)("div",{className:"aspect-[3/4] relative",children:[e.image_url?(0,o.jsx)("img",{src:e.image_url,alt:e.product_name,className:"w-full h-full object-cover transition-transform group-hover:scale-105"}):(0,o.jsx)("div",{className:"w-full h-full bg-[#111] flex items-center justify-center text-gray-700 font-bold text-xs",children:"NO IMAGE"}),(0,o.jsx)("div",{className:"absolute top-2 right-2 bg-black/80 backdrop-blur text-white text-[10px] font-bold px-2 py-0.5 rounded border border-gray-700",children:e.condition})]}),(0,o.jsxs)("div",{className:"p-3",children:[(0,o.jsx)("div",{className:"text-xs text-gray-500 mb-1 truncate",children:e.console_name}),(0,o.jsx)(x(),{href:"/".concat(e.console_name.toLowerCase().replace(/ /g,"-"),"/").concat(e.product_name.toLowerCase().replace(/ /g,"-"),"-").concat(e.product_id),className:"block",children:(0,o.jsx)("h3",{className:"font-bold text-white text-sm leading-tight line-clamp-2 h-10 mb-2 group-hover:text-[#ff6600] transition-colors",children:e.product_name})}),(0,o.jsx)("div",{className:"flex items-center justify-between mt-auto",children:(0,o.jsx)("div",{className:"text-[#22c55e] font-bold text-sm",children:(0,d.$g)(t,s)})})]})]},e.id)};if("CONSOLE"===a){let e={};t.forEach(t=>{e[t.console_name]||(e[t.console_name]=[]),e[t.console_name].push(t)});let r=Object.keys(e).sort();return(0,o.jsx)("div",{className:"space-y-8",children:r.map(t=>(0,o.jsxs)("div",{children:[(0,o.jsxs)("h3",{className:"text-xl font-bold text-white mb-4 border-l-4 border-[#ff6600] pl-3 flex items-center gap-2",children:[t,(0,o.jsx)("span",{className:"text-sm font-normal text-gray-500 bg-[#2a3142] px-2 py-0.5 rounded-full",children:e[t].length})]}),(0,o.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:e[t].map(l)})]},t))})}return(0,o.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:t.map(l)})}function f(e){let{items:t}=e,{currency:r}=(0,c.H)();return t&&0!==t.length?(0,o.jsxs)("div",{className:"bg-[#1f2533] p-6 rounded-xl border border-[#2a3142]",children:[(0,o.jsx)("h3",{className:"text-xl font-bold mb-6 text-white",children:"Top Assets"}),(0,o.jsx)("div",{className:"flex flex-col gap-4",children:t.map((e,t)=>{let a=(0,d.Tt)(e.value,r);return(0,o.jsxs)("div",{className:"flex items-center gap-4 group",children:[(0,o.jsx)("div",{className:"w-12 h-16 bg-black rounded overflow-hidden shrink-0 border border-gray-800",children:e.image?(0,o.jsx)("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover"}):(0,o.jsx)("div",{className:"w-full h-full flex items-center justify-center text-[8px] text-gray-600",children:"NO IMG"})}),(0,o.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,o.jsx)("div",{className:"text-sm font-bold text-white truncate group-hover:text-[#ff6600] transition-colors",title:e.name,children:e.name}),(0,o.jsx)("div",{className:"text-xs text-gray-500 truncate",children:e.console})]}),(0,o.jsx)("div",{className:"text-right",children:(0,o.jsx)("div",{className:"font-bold text-[#22c55e]",children:(0,d.$g)(a,r)})})]},t)})})]}):null}function p(){let{token:e,isAuthenticated:t}=(0,s.A)(),[r,c]=(0,a.useState)(!0),[d,h]=(0,a.useState)(null),[x,p]=(0,a.useState)("COLLECTION"),[g,v]=(0,a.useState)(!1),b=(0,n.useParams)();return(null==b||b.lang,(0,a.useEffect)(()=>{t&&r();async function r(){e&&(c(!0),h(await (0,l.fA)(e)),c(!1))}},[e,t]),t)?r?(0,o.jsx)("div",{className:"min-h-screen bg-[#0f121e] flex items-center justify-center text-white",children:(0,o.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#ff6600]"})}):d?(0,o.jsx)("main",{className:"min-h-screen bg-[#0f121e] py-8 pb-20",children:(0,o.jsxs)("div",{className:"max-w-[1400px] mx-auto px-4",children:[(0,o.jsx)(i,{user:d.user}),(0,o.jsx)(u,{kpis:d.kpis}),(0,o.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[(0,o.jsxs)("div",{className:"lg:col-span-9",children:[(0,o.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-6 border-b border-[#2a3142]",children:[(0,o.jsxs)("div",{className:"flex items-center gap-1",children:[(0,o.jsx)("button",{onClick:()=>p("COLLECTION"),className:"px-6 py-3 font-bold text-sm uppercase tracking-wide border-b-2 transition-colors ".concat("COLLECTION"===x?"border-[#ff6600] text-white":"border-transparent text-gray-500 hover:text-gray-300"),children:"Collection"}),(0,o.jsx)("button",{onClick:()=>p("WISHLIST"),className:"px-6 py-3 font-bold text-sm uppercase tracking-wide border-b-2 transition-colors ".concat("WISHLIST"===x?"border-[#ff6600] text-white":"border-transparent text-gray-500 hover:text-gray-300"),children:"Wishlist"}),(0,o.jsx)("button",{onClick:()=>p("ANALYTICS"),className:"px-6 py-3 font-bold text-sm uppercase tracking-wide border-b-2 transition-colors ".concat("ANALYTICS"===x?"border-[#ff6600] text-white":"border-transparent text-gray-500 hover:text-gray-300"),children:"Analytics"})]}),"ANALYTICS"!==x&&(0,o.jsx)("div",{className:"flex items-center gap-2 px-4 py-2",children:(0,o.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[(0,o.jsxs)("div",{className:"relative",children:[(0,o.jsx)("input",{type:"checkbox",className:"sr-only",checked:g,onChange:e=>v(e.target.checked)}),(0,o.jsx)("div",{className:"w-10 h-6 bg-[#2a3142] rounded-full shadow-inner transition-colors ".concat(g?"bg-[#ff6600]":"")}),(0,o.jsx)("div",{className:"absolute top-1 left-1 w-4 h-4 bg-white rounded-full shadow transition-transform ".concat(g?"translate-x-4":"")})]}),(0,o.jsx)("span",{className:"text-sm text-gray-400 font-medium",children:"Group by Console"})]})})]}),"ANALYTICS"===x?(0,o.jsxs)("div",{className:"bg-[#1f2533] rounded-xl border border-[#2a3142] p-8 text-center",children:[(0,o.jsx)("h3",{className:"text-2xl font-bold text-white mb-4",children:"Analytics Dashboard"}),(0,o.jsx)("p",{className:"text-gray-400",children:"Detailed charts coming soon in Phase 3!"})]}):(0,o.jsx)(m,{items:"COLLECTION"===x?d.collection:d.wishlist,type:x,groupBy:g?"CONSOLE":"NONE"})]}),(0,o.jsxs)("div",{className:"lg:col-span-3",children:[(0,o.jsx)(f,{items:d.top_items}),(0,o.jsxs)("div",{className:"mt-6 bg-[#1f2533] p-6 rounded-xl border border-[#2a3142]",children:[(0,o.jsx)("h3",{className:"font-bold text-white mb-2",children:"Share Profile"}),(0,o.jsx)("p",{className:"text-xs text-gray-500 mb-4",children:"Show off your collection to the world."}),(0,o.jsxs)("button",{onClick:()=>{let e="".concat(window.location.origin,"/u/").concat(d.user.username);navigator.clipboard.writeText(e),alert("Public profile link copied to clipboard!")},className:"w-full bg-[#2a3142] hover:bg-[#353e54] text-white font-bold py-2 px-4 rounded border border-[#3a4152] transition-colors flex items-center justify-center gap-2",children:[(0,o.jsx)("span",{children:"\uD83D\uDD17"})," Copy Public Link"]})]})]})]})]})}):(0,o.jsx)("div",{className:"min-h-screen bg-[#0f121e] flex items-center justify-center text-white",children:(0,o.jsx)("p",{children:"Failed to load profile data."})}):(0,o.jsxs)("div",{className:"min-h-screen bg-[#0f121e] flex flex-col items-center justify-center text-white px-4",children:[(0,o.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"Profile Access"}),(0,o.jsx)("p",{className:"text-gray-400 mb-8",children:"Please log in to view your profile and collection."}),(0,o.jsx)("a",{href:"/login",className:"bg-[#ff6600] text-white px-6 py-3 rounded-full font-bold hover:bg-[#ff8533]",children:"Login"})]})}},68435:(e,t,r)=>{"use strict";r.d(t,{A:()=>d,AuthProvider:()=>c});var o=r(95155),a=r(12115),s=r(80022),l=r(85534),n=r(2818);let i=(0,a.createContext)(void 0);function c(e){let{children:t}=e,[r,c]=(0,a.useState)(null),[d,u]=(0,a.useState)(null),[h,x]=(0,a.useState)(!0);(0,a.useEffect)(()=>{let e=localStorage.getItem("rc_token");e?(u(e),(0,l.Ni)(e).then(e=>{e?c(e):f()}).finally(()=>x(!1))):x(!1)},[]);let m=async e=>{let t=await (0,l.XL)(e);t&&t.access_token&&(localStorage.setItem("rc_token",t.access_token),u(t.access_token),c(await (0,l.Ni)(t.access_token)))},f=()=>{localStorage.removeItem("rc_token"),u(null),c(null)},p=n.env.NEXT_PUBLIC_GOOGLE_CLIENT_ID||"";p||console.error("CRITICAL: NEXT_PUBLIC_GOOGLE_CLIENT_ID is missing. Google Login will fail.");let g=async()=>{d&&c(await (0,l.Ni)(d))};return(0,o.jsx)(s.G_,{clientId:p,children:(0,o.jsx)(i.Provider,{value:{user:r,token:d,login:m,logout:f,refreshUser:g,isAuthenticated:!!r,loading:h},children:t})})}function d(){let e=(0,a.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},31558:(e,t,r)=>{"use strict";r.d(t,{CurrencyProvider:()=>l,H:()=>n});var o=r(95155),a=r(12115);let s=(0,a.createContext)(void 0);function l(e){let{children:t}=e,[r,l]=(0,a.useState)("USD");return(0,a.useEffect)(()=>{let e=localStorage.getItem("retrocharting_currency");e&&("USD"===e||"EUR"===e||"GBP"===e)&&l(e)},[]),(0,o.jsx)(s.Provider,{value:{currency:r,setCurrency:e=>{l(e),localStorage.setItem("retrocharting_currency",e)}},children:t})}function n(){let e=(0,a.useContext)(s);if(void 0===e)throw Error("useCurrency must be used within a CurrencyProvider");return e}},85534:(e,t,r)=>{"use strict";r.d(t,{$_:()=>j,CG:()=>C,Go:()=>_,Li:()=>f,Ni:()=>h,R1:()=>s,Ri:()=>n,Sb:()=>p,Sz:()=>c,T2:()=>d,TK:()=>g,UQ:()=>i,XL:()=>u,X_:()=>x,bC:()=>b,e9:()=>a,fA:()=>w,jg:()=>y,mQ:()=>N,nL:()=>m,updateProduct:()=>l,xM:()=>v});var o=r(93681);function a(){return o.H}async function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,r=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,n=arguments.length>6?arguments[6]:void 0;try{return(await o.u.get("/products/",{params:{console:e,limit:t,genre:r,type:a,sort:s,skip:l,search:n}})).data}catch(e){return console.error("Error fetching products:",e),[]}}async function l(e,t,r){try{return(await o.u.put("/products/".concat(e),t)).data}catch(t){return console.error("Error updating product ".concat(e,":"),t),null}}async function n(e){try{return(await o.u.get("/products/search/grouped",{params:{query:e}})).data}catch(e){return console.error("Error searching products grouped:",e),{}}}async function i(e){try{let t=await o.u.get("/products/".concat(e,"/listings"),{params:{_t:new Date().getTime()}}),r="true"===t.headers["x-is-stale"];return{data:t.data,isStale:r,status:t.status}}catch(e){var t;return{data:[],isStale:!1,status:(null===(t=e.response)||void 0===t?void 0:t.status)||500}}}async function c(e){try{return(await o.u.get("/products/".concat(e,"/related"))).data}catch(e){return console.error("Error fetching related products:",e),[]}}async function d(e,t,r,a){try{return await o.u.post("/translations/",{locale:e,key:t,value:r},{headers:{"X-Admin-Key":a}}),!0}catch(e){return console.error("Failed to save translation",e),!1}}async function u(e){try{return(await o.u.post("/auth/google",{credential:e})).data}catch(e){var t,r;throw console.error("Google Login failed",e),Error((null===(r=e.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.detail)||e.message||"Login failed")}}async function h(e){try{return(await o.u.get("/auth/me")).data}catch(e){return null}}async function x(e){try{return(await o.u.get("/collection/")).data}catch(e){return console.error("Failed to fetch collection",e),[]}}async function m(e,t,r,a,s){try{return(await o.u.post("/collection/",{product_id:t,condition:r,paid_price:s,notes:a})).data}catch(e){var l,n;throw console.error("Failed to add to collection",e),Error((null===(n=e.response)||void 0===n?void 0:null===(l=n.data)||void 0===l?void 0:l.detail)||"Failed to add to collection")}}async function f(e,t,r){try{return(await o.u.put("/collection/".concat(t),r)).data}catch(e){var a,s;throw console.error("Failed to update collection item",e),Error((null===(s=e.response)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.detail)||"Failed to update item")}}async function p(e,t){try{return await o.u.delete("/collection/".concat(t)),!0}catch(e){return console.error("Failed to delete item",e),!1}}async function g(e,t){try{return(await o.u.put("/auth/me",t)).data}catch(e){throw e}}async function v(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;arguments.length>1&&arguments[1];try{return(await o.u.get("/products/stats/recently-scraped",{params:{limit:e}})).data}catch(e){return console.error("Failed to fetch recently scraped products",e),[]}}async function b(e){try{return(await o.u.get("/portfolio/summary")).data}catch(e){return console.error("Failed to fetch portfolio summary",e),{total_value:0,item_count:0,console_count:0,top_items:[]}}}async function y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;try{return(await o.u.get("/portfolio/history",{params:{range_days:t}})).data}catch(e){return console.error("Failed to fetch portfolio history",e),[]}}async function j(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;try{return(await o.u.get("/portfolio/movers",{params:{days:t}})).data}catch(e){return console.error("Failed to fetch portfolio movers",e),{gainers:[],losers:[]}}}async function N(e){try{return(await o.u.get("/portfolio/debug")).data}catch(e){return console.error("Failed to fetch portfolio debug",e),{error:"Failed to fetch debug info"}}}async function w(e){try{return(await o.u.get("/portfolio/dashboard")).data}catch(e){return console.error("Failed to fetch portfolio dashboard",e),null}}async function C(e,t){let r=new FormData;r.append("file",e);try{return(await o.u.post("/import/upload",r,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(e){var a,s;throw console.error("CSV upload failed",e),Error((null===(s=e.response)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.detail)||"Upload failed")}}async function _(e,t){try{return(await o.u.post("/import/confirm",{items:e})).data}catch(e){var r,a;throw console.error("Bulk import failed",e),Error((null===(a=e.response)||void 0===a?void 0:null===(r=a.data)||void 0===r?void 0:r.detail)||"Import failed")}}},93681:(e,t,r)=>{"use strict";r.d(t,{H:()=>l,u:()=>n});var o=r(82651),a=r(2818);let s=a.env.NEXT_PUBLIC_API_URL?a.env.NEXT_PUBLIC_API_URL:"https://retrocharting-backend.onrender.com",l="".concat(s,"/api/v1"),n=o.A.create({baseURL:l,headers:{"Content-Type":"application/json"}});n.interceptors.request.use(e=>{{let t=localStorage.getItem("rc_token");t&&(e.headers.Authorization="Bearer ".concat(t))}return e},e=>Promise.reject(e)),n.interceptors.response.use(e=>e,e=>Promise.reject(e))},11977:(e,t,r)=>{"use strict";r.d(t,{$g:()=>i,Q3:()=>n,Qn:()=>s,Tt:()=>l,VK:()=>a});let o={USD:1,EUR:.95,GBP:.79},a=[{code:"USD",label:"USD ($)",symbol:"$"},{code:"EUR",label:"EUR (€)",symbol:"€"},{code:"GBP",label:"GBP (\xa3)",symbol:"\xa3"}];function s(e){let t=a.find(t=>t.code===e);return t?t.symbol:"$"}function l(e,t){return null==e?null:e*(o[t]||1)}function n(e,t){let r=o[t]||1;return 0===r?0:e/r}function i(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en-US";if(null==e)return"--";let o=l(e,t);if(null===o)return"--";try{return new Intl.NumberFormat(r,{style:"currency",currency:t}).format(o)}catch(e){return"".concat(t," ").concat(o.toFixed(2))}}}},e=>{var t=t=>e(e.s=t);e.O(0,[5714,2651,8173,8441,1517,7358],()=>t(35903)),_N_E=e.O()}]);