(()=>{var e={};e.id=7637,e.ids=[7637],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},12412:e=>{"use strict";e.exports=require("assert")},55511:e=>{"use strict";e.exports=require("crypto")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},73496:e=>{"use strict";e.exports=require("http2")},55591:e=>{"use strict";e.exports=require("https")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},83997:e=>{"use strict";e.exports=require("tty")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},1690:e=>{e.exports={style:{fontFamily:"'Poppins', 'Poppins Fallback'",fontStyle:"normal"},className:"__className_51684b",variable:"__variable_51684b"}},72360:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>x,pages:()=>c,routeModule:()=>u,tree:()=>d});var s=t(70260),a=t(28203),l=t(25155),n=t.n(l),i=t(67292),o={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);t.d(r,o);let d=["",{children:["admin",{children:["games",{children:["[id]",{children:["edit",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,22126)),"C:\\Users\\charl\\collector\\frontend\\src\\app\\admin\\games\\[id]\\edit\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,96038)),"C:\\Users\\charl\\collector\\frontend\\src\\app\\admin\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{"not-found":[()=>Promise.resolve().then(t.t.bind(t,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\charl\\collector\\frontend\\src\\app\\admin\\games\\[id]\\edit\\page.tsx"],x={require:t,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/admin/games/[id]/edit/page",pathname:"/admin/games/[id]/edit",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},28646:(e,r,t)=>{Promise.resolve().then(t.bind(t,67088))},98382:(e,r,t)=>{Promise.resolve().then(t.bind(t,1828))},10444:(e,r,t)=>{Promise.resolve().then(t.bind(t,96038))},73996:(e,r,t)=>{Promise.resolve().then(t.bind(t,56362))},1828:(e,r,t)=>{"use strict";t.d(r,{default:()=>d});var s=t(45512),a=t(58009),l=t(79334),n=t(28531),i=t.n(n),o=t(52342);function d(){let e=(0,l.useParams)(),r=(0,l.useRouter)(),t=e?.id,[n,d]=(0,a.useState)(!0),[c,x]=(0,a.useState)(!1),[u,p]=(0,a.useState)([]),[m,h]=(0,a.useState)({product_name:"",console_name:"",description:"",image_url:"",publisher:"",developer:"",genre:"",players:"",release_date:"",loose_price:0,cib_price:0,new_price:0}),b=e=>{let{name:r,value:t}=e.target;h(e=>({...e,[r]:t}))},f=async e=>{e.preventDefault(),x(!0);try{let e=localStorage.getItem("rc_token");(await fetch(`${process.env.NEXT_PUBLIC_API_URL}/api/v1/products/${t}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(m)})).ok?(alert("Product updated successfully!"),r.push("/admin/health")):alert("Failed to update product.")}catch(e){console.error("Error updating",e),alert("Error updating product.")}finally{x(!1)}};return n?(0,s.jsx)("div",{className:"text-white p-8",children:"Loading..."}):(0,s.jsxs)("div",{className:"text-white max-w-4xl mx-auto p-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,s.jsx)(i(),{href:"/admin/health",className:"text-gray-400 hover:text-white",children:"â† Back to Health"}),(0,s.jsxs)("h1",{className:"text-2xl font-bold uppercase tracking-wider",children:["Edit Product (ID: ",t,")"]})]}),(0,s.jsxs)("form",{onSubmit:f,className:"bg-[#1f2533] p-8 rounded border border-[#2a3142] space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs uppercase text-gray-400 mb-1",children:"Product Name"}),(0,s.jsx)("input",{name:"product_name",value:m.product_name,onChange:b,className:"w-full bg-[#0f121e] border border-[#2a3142] p-2 rounded text-white"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs uppercase text-gray-400 mb-1",children:"Console"}),(0,s.jsx)("input",{name:"console_name",value:m.console_name,onChange:b,className:"w-full bg-[#0f121e] border border-[#2a3142] p-2 rounded text-white"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs uppercase text-gray-400 mb-1",children:"Image URL"}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)("input",{name:"image_url",value:m.image_url,onChange:b,className:"flex-1 bg-[#0f121e] border border-[#2a3142] p-2 rounded text-white"}),m.image_url&&(0,s.jsx)("img",{src:m.image_url,alt:"Preview",className:"h-10 w-10 object-cover rounded"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs uppercase text-gray-400 mb-1",children:"Description"}),(0,s.jsx)("textarea",{name:"description",rows:5,value:m.description,onChange:b,className:"w-full bg-[#0f121e] border border-[#2a3142] p-2 rounded text-white"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs uppercase text-gray-400 mb-1",children:"Publisher"}),(0,s.jsx)("input",{name:"publisher",value:m.publisher,onChange:b,className:"w-full bg-[#0f121e] border border-[#2a3142] p-2 rounded text-white"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs uppercase text-gray-400 mb-1",children:"Developer"}),(0,s.jsx)("input",{name:"developer",value:m.developer,onChange:b,className:"w-full bg-[#0f121e] border border-[#2a3142] p-2 rounded text-white"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs uppercase text-gray-400 mb-1",children:"Genre"}),(0,s.jsx)("input",{name:"genre",value:m.genre,onChange:b,className:"w-full bg-[#0f121e] border border-[#2a3142] p-2 rounded text-white"})]})]}),(0,s.jsxs)("div",{className:"p-4 bg-[#0f121e] rounded border border-[#2a3142]",children:[(0,s.jsx)("h3",{className:"text-[#ff6600] font-bold mb-4 text-sm",children:"Base Prices (Overrides Scraper)"}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs uppercase text-gray-400 mb-1",children:"Loose"}),(0,s.jsx)("input",{type:"number",step:"0.01",name:"loose_price",value:m.loose_price,onChange:b,className:"w-full bg-[#1f2533] border border-[#2a3142] p-2 rounded text-white"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs uppercase text-gray-400 mb-1",children:"CIB"}),(0,s.jsx)("input",{type:"number",step:"0.01",name:"cib_price",value:m.cib_price,onChange:b,className:"w-full bg-[#1f2533] border border-[#2a3142] p-2 rounded text-white"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs uppercase text-gray-400 mb-1",children:"New"}),(0,s.jsx)("input",{type:"number",step:"0.01",name:"new_price",value:m.new_price,onChange:b,className:"w-full bg-[#1f2533] border border-[#2a3142] p-2 rounded text-white"})]})]})]}),(0,s.jsxs)("div",{className:"p-4 bg-[#0f121e] rounded border border-[#2a3142]",children:[(0,s.jsx)("h3",{className:"text-white font-bold mb-4 text-sm uppercase",children:"Price History Data"}),(0,s.jsx)("div",{className:"h-64",children:u.length>0?(0,s.jsx)(o.default,{history:u}):(0,s.jsx)("p",{className:"text-gray-500 text-sm",children:"No history data available."})})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,s.jsx)(i(),{href:"/admin/health",className:"px-6 py-2 rounded border border-[#2a3142] hover:bg-[#2a3142] transition-colors",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",disabled:c,className:"px-6 py-2 rounded bg-[#ff6600] hover:bg-[#ff8533] text-white font-bold transition-colors",children:c?"Saving...":"Save Changes"})]})]})]})}},56362:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>u});var s=t(45512),a=t(58009),l=t(28531),n=t.n(l),i=t(79334),o=t(1690),d=t.n(o);t(44263);var c=t(19333),x=t(57104);function u({children:e}){return(0,s.jsx)("html",{lang:"en",children:(0,s.jsx)("body",{className:`${d().variable} antialiased bg-[#0f121e] text-white font-sans flex h-screen`,children:(0,s.jsx)(x.CurrencyProvider,{children:(0,s.jsx)(c.AuthProvider,{children:(0,s.jsx)(p,{children:e})})})})})}function p({children:e}){let{user:r,loading:t,isAuthenticated:l}=(0,c.A)();(0,i.useRouter)();let[o,d]=(0,a.useState)(!1);return!o||t?(0,s.jsx)("div",{className:"min-h-screen bg-[#0f121e] flex items-center justify-center text-white",children:"Loading..."}):r?.is_admin?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("aside",{className:"w-64 border-r border-[#2a3142] bg-[#1f2533] flex flex-col",children:[(0,s.jsx)("div",{className:"p-6 border-b border-[#2a3142]",children:(0,s.jsxs)(n(),{href:"/",className:"text-xl font-bold tracking-wider text-white notranslate",translate:"no",children:["RETRO",(0,s.jsx)("span",{className:"text-[#ff6600]",children:"CHARTING"}),(0,s.jsx)("span",{className:"block text-[10px] text-gray-500 mt-1",children:"ADMIN CONSOLE"})]})}),(0,s.jsxs)("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[(0,s.jsx)(m,{href:"/admin/dashboard",label:"Dashboard"}),(0,s.jsx)(m,{href:"/admin/amazon",label:"Amazon Pricing"}),(0,s.jsx)(m,{href:"/admin/games",label:"Games Catalog"}),(0,s.jsx)(m,{href:"/admin/consoles",label:"Consoles Catalog"}),(0,s.jsx)(m,{href:"/admin/accessories",label:"Accessories Catalog"}),(0,s.jsx)(m,{href:"/admin/health",label:"Catalog Health"}),(0,s.jsx)(m,{href:"/admin/comments",label:"Comments"}),(0,s.jsx)(m,{href:"/admin/translations",label:"Translations"}),(0,s.jsx)("div",{className:"pt-4 mt-4 border-t border-[#2a3142]",children:(0,s.jsx)(m,{href:"/",label:"Back to Site"})})]}),(0,s.jsx)("div",{className:"p-4 border-t border-[#2a3142]",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-full bg-[#ff6600] flex items-center justify-center font-bold",children:"A"}),(0,s.jsxs)("div",{className:"text-sm",children:[(0,s.jsx)("div",{className:"font-medium",children:"Admin"}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:"Super User"})]})]})})]}),(0,s.jsxs)("main",{className:"flex-1 overflow-y-auto",children:[(0,s.jsx)("header",{className:"h-16 border-b border-[#2a3142] bg-[#1f2533] flex items-center justify-between px-8",children:(0,s.jsx)("h1",{className:"font-medium text-lg",children:"Dashboard"})}),(0,s.jsx)("div",{className:"p-8",children:e})]})]}):null}function m({href:e,label:r}){return(0,s.jsx)(n(),{href:e,className:"block px-4 py-2 rounded text-gray-300 hover:bg-[#2a3142] hover:text-white transition-colors text-sm font-medium",children:r})}},52342:(e,r,t)=>{"use strict";t.d(r,{default:()=>m});var s=t(45512),a=t(3625),l=t(97981),n=t(26507),i=t(11452),o=t(1263),d=t(62062),c=t(67162),x=t(60559),u=t(57104),p=t(4235);function m({history:e,className:r,dict:t}){let{currency:m}=(0,u.H)(),h=(0,p.Qn)(m);if(!e||0===e.length)return(0,s.jsx)("div",{className:`bg-[#1f2533] border border-[#2a3142] rounded flex items-center justify-center text-gray-500 ${r||"h-[300px]"}`,children:t?.product?.market?.no_history||"No price history available."});let b={},f=new Set;e.forEach(e=>{let r=e.date;b[r]||(b[r]={date:r}),b[r][e.condition]=e.price,f.add(e.condition)});let g=Object.values(b).sort((e,r)=>new Date(e.date).getTime()-new Date(r.date).getTime()),j={loose:"#9ca3af",cib:"#007bff",new:"#00ff00",graded:"#a855f7",box_only:"#f59e0b",manual_only:"#ef4444"};return(0,s.jsx)("div",{className:`w-full bg-[#1f2533] border border-[#2a3142] p-4 rounded ${r||"h-[400px]"}`,children:(0,s.jsx)(a.u,{width:"100%",height:"100%",children:(0,s.jsxs)(l.b,{data:g,children:[(0,s.jsx)(n.d,{strokeDasharray:"3 3",stroke:"#2a3142"}),(0,s.jsx)(i.W,{dataKey:"date",stroke:"#9ca3af",tick:{fill:"#9ca3af"},tickFormatter:e=>new Date(e).toLocaleDateString()}),(0,s.jsx)(o.h,{stroke:"#9ca3af",tick:{fill:"#9ca3af"},tickFormatter:e=>`${h}${e}`}),(0,s.jsx)(d.m,{contentStyle:{backgroundColor:"#1f2533",borderColor:"#2a3142",color:"#fff"},itemStyle:{color:"#fff"},labelStyle:{color:"#9ca3af"}}),(0,s.jsx)(c.s,{}),Array.from(f).map(e=>(0,s.jsx)(x.N1,{type:"monotone",dataKey:e,stroke:j[e]||"#fff",strokeWidth:2,dot:!1,activeDot:{r:6},connectNulls:!0},e))]})})})}},67088:(e,r,t)=>{"use strict";t.d(r,{default:()=>s});let s=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\charl\\\\collector\\\\frontend\\\\src\\\\app\\\\admin\\\\games\\\\[id]\\\\edit\\\\EditGameClient.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\charl\\collector\\frontend\\src\\app\\admin\\games\\[id]\\edit\\EditGameClient.tsx","default")},22126:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>n,generateStaticParams:()=>l});var s=t(62740),a=t(67088);async function l(){return[]}function n(){return(0,s.jsx)(a.default,{})}},96038:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\charl\\\\collector\\\\frontend\\\\src\\\\app\\\\admin\\\\layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\charl\\collector\\frontend\\src\\app\\admin\\layout.tsx","default")},44263:()=>{}};var r=require("../../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[638,8403,3131,7525,7708,5363],()=>t(72360));module.exports=s})();